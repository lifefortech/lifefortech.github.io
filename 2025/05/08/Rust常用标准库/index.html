<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Rust常用标准库 | Welcome To LifeTech's Blog</title><meta name="keywords" content="Rust基础知识"><meta name="author" content="Jackey Zhou"><meta name="copyright" content="Jackey Zhou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Rust常用标准库"><meta name="application-name" content="Rust常用标准库"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Rust常用标准库"><meta property="og:url" content="http://example.com/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/index.html"><meta property="og:site_name" content="Welcome To LifeTech's Blog"><meta property="og:description" content="Rust 的标准库 (std) 非常全面，提供了大量开箱即用的功能，涵盖了从基本数据类型、集合、I&amp;#x2F;O 操作到并发原语等多个方面。熟悉常用标准库模块对于高效编写 Rust 程序至关重要。 下面我将详细介绍一些 Rust 中最常用和最重要的标准库模块和类型。其中一些我们可能在之前的讨论中已经"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta property="article:author" content="Jackey Zhou"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta name="description" content="Rust 的标准库 (std) 非常全面，提供了大量开箱即用的功能，涵盖了从基本数据类型、集合、I&amp;#x2F;O 操作到并发原语等多个方面。熟悉常用标准库模块对于高效编写 Rust 程序至关重要。 下面我将详细介绍一些 Rust 中最常用和最重要的标准库模块和类型。其中一些我们可能在之前的讨论中已经"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Jackey Zhou","link":"链接: ","source":"来源: Welcome To LifeTech's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Welcome To LifeTech's Blog',
  title: 'Rust常用标准库',
  postAI: '',
  pageFillDescription: '1. 预导入内容 (The Prelude), 2. stdoptionOptionltTgt 和 stdresultResultltT Egt, 3. stdstringString 和 ampstr (字符串), 4. stdvecVecltTgt (动态数组x2F向量), 5. stdcollections (更多集合类型), 6. stdio (输入x2F输出), 7. stdfs (文件系统操作), 8. stdnet (网络), 9. stdfmt (格式化), 10. stderrorError Trait, 11. stdthread stdsync (并发), 12. stdtime (时间和持续时间), 13. stdenv (环境), 14. stdpath123Path PathBuf125 (路径操作), 15. stdprocessCommand (执行外部进程), 16. stdmarker (标记 Trait), 17. stdconvert 和 stdconvertidentity的标准库非常全面提供了大量开箱即用的功能涵盖了从基本数据类型集合操作到并发原语等多个方面熟悉常用标准库模块对于高效编写程序至关重要下面我将详细介绍一些中最常用和最重要的标准库模块和类型其中一些我们可能在之前的讨论中已经涉及这里会再次提及并放在标准库的上下文中进行归纳预导入内容有一个叫做预导入的列表其中包含了一些非常常用且基础的类型和宏这些项会自动被导入到每个程序的模块作用域中无需显式声明当前稳定版预导入通常包括常用类型常用转换比较克隆调试与显示所有权与生命周期通常是隐式的函数与闭包迭代常用宏因为它们是自动导入的所以你可以直接使用如或和这两个枚举是我们之前在错误处理和枚举部分详细讨论过的它们是处理可选值和可恢复错误的核心表示一个值可能是某个类型的值或者什么都没有常用方法表示一个操作可能成功并返回类型的值或者失败并返回类型的错误常用方法和字符串一个在堆上分配的可增长的编码的拥有所有权的字符串类型字符串切片一个对编码字符串数据的不可变引用通常字符串字面量就是类型常用操作创建修改仅访问与切片字节长度迭代字符字节索引切片需谨慎比较搜索动态数组向量一个在堆上分配的可增长的数组类型我们之前在集合类型中详细讨论过常用操作宏索引访问更多集合类型除了模块还提供了其他常用的集合类型基于哈希表的键值对映射无序键必须实现和基于树的键值对映射键按顺序存储键必须实现基于哈希表的唯一值集合无序值必须实现和基于树的唯一值集合值按顺序存储值必须实现双端队列允许在头部和尾部高效地添加删除元素双向链表在现代中或通常是更好的选择基于二叉堆的优先队列默认为最大堆值必须实现输入输出此模块提供了的核心功能用于处理文件网络连接标准输入输出等核心用于从数据源读取字节提供等方法用于向数据目标写入字节提供等方法的一个子提供了对缓冲读取的支持例如逐行读取主要类型代表一个文件同时实现了和标准输入流的句柄标准输出流的句柄标准错误流的句柄为实现了的类型提供缓冲为实现了的类型提供缓冲错误是此模块中操作通常返回的错误类型是的类型别名文件写入文件读取从标准输入读取一行文件系统操作此模块提供了与文件系统交互的功能如创建删除文件和目录读取目录内容获取元数据等许多函数返回主要函数和类型在中重新导出将整个文件内容读取到将整个文件内容读取到将字节或字符串写入文件递归创建递归删除返回一个迭代器用于遍历目录中的条目获取文件或目录的元数据如大小权限修改时间等返回类型和类型来自用于处理路径网络提供基本的同步网络功能如和套接字对于更高级或异步的网络编程通常会使用像客户端等外部库主要类型用于监听传入的连接代表一个连接实现了和用于发送和接收数据报套接字地址地址用于将主机名端口等转换为概念性示例实际运行可能需要更多设置返回一个迭代器为每个连接创建一个新线程简单模型格式化这个模块包含了所有与格式化输出如相关的和类型核心用于开发者调试输出或格式化指示符大多数类型应该实现它通常通过用于更用户友好的面向最终用户的字符串表示格式化指示符需要手动实现和的方法接收一个参数用于将输出写入流手动实现或者更简单地使用派生是一个宏类似于使用使用如果手动实现使用派生的我们之前在错误处理中讨论过这个是中用于自定义错误类型的标准接口并发这些模块提供了创建线程线程间同步和消息传递通道的功能我们也在并发部分讨论过时间和持续时间用于处理时间点和时间段通常用于测量代码执行时间因为它保证是单调递增的代表系统时钟的时间可以用来获取当前日期和时间但可能会受到系统时间调整的影响代表一个时间段例如秒毫秒一些耗时操作例如环境允许与程序运行的环境交互返回一个迭代器产生程序的命令行参数第一个参数通常是程序自身的路径返回一个迭代器产生环境变量的键值对获取当前工作目录设置当前工作目录获取指定环境变量的值路径操作表示一个借用的文件系统路径类似于而是一个拥有所有权的可变的路径类似于常用方法执行外部进程用于创建和管理子进程配置执行运行命令并等待其完成返回退出状态运行命令捕获其标准输出标准错误和退出状态异步启动子进程返回一个句柄可以用来等待进程或与其交互重定向方法可以配置子进程的输入输出流或者其他系统命令如运行命令并捕获输出标记包含特殊的标记没有方法仅用于标记类型和与类型系统相关的工具并发所有权标记编译时大小已知的类型大多数类型都是用于标记动态大小类型异步编程与相关一个零大小的类型用于在数据结构中标记它拥有或关联某种类型即使该结构体中实际上并没有存储类型的值常用于代码生命周期或类型系统技巧和包含用于类型转换的和通用类型转换实现会自动为你提供和用于可能失败的转换返回和用于廉价的引用到引用的转换的标准库非常庞大且设计精良这里介绍的只是其中最常用的一部分当你开始编写更复杂的程序时你会发现自己会经常查阅标准库文档来寻找解决特定问题的工具',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-05-08 02:17:22',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Welcome To LifeTech's Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CSharp%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">CSharp学习<sup>3</sup></a><a href="/tags/IDE%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 1.05rem;">IDE常用快捷键<sup>2</sup></a><a href="/tags/Rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">Rust基础知识<sup>21</sup></a><a href="/tags/csharp%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">csharp相关学习<sup>5</sup></a><a href="/tags/docker%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">docker学习<sup>1</sup></a><a href="/tags/hexo%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/" style="font-size: 1.05rem;">hexo博客常见命令<sup>1</sup></a><a href="/tags/python%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">python相关学习<sup>4</sup></a><a href="/tags/xmake%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">xmake学习<sup>3</sup></a><a href="/tags/%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">个人学习<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 1.05rem;">数据分析<sup>1</sup></a><a href="/tags/%E6%97%A0%E7%BA%BF%E8%B0%83%E8%AF%95/" style="font-size: 1.05rem;">无线调试<sup>1</sup></a><a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">深度学习<sup>1</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" style="font-size: 1.05rem;">系统常用命令<sup>2</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 1.05rem;">系统常用快捷键<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">30</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Rust基础知识</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Rust常用标准库</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-05-07T18:12:04.000Z" title="发表于 2025-05-08 02:12:04">2025-05-08</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-05-07T18:17:22.351Z" title="更新于 2025-05-08 02:17:22">2025-05-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为无锡"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>无锡</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/"><header><a href="/tags/Rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" tabindex="-1" itemprop="url">Rust基础知识</a><h1 id="CrawlerTitle" itemprop="name headline">Rust常用标准库</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Jackey Zhou</span><time itemprop="dateCreated datePublished" datetime="2025-05-07T18:12:04.000Z" title="发表于 2025-05-08 02:12:04">2025-05-08</time><time itemprop="dateCreated datePublished" datetime="2025-05-07T18:17:22.351Z" title="更新于 2025-05-08 02:17:22">2025-05-08</time></header><p>Rust 的标准库 (<code>std</code>) 非常全面，提供了大量开箱即用的功能，涵盖了从基本数据类型、集合、I&#x2F;O 操作到并发原语等多个方面。熟悉常用标准库模块对于高效编写 Rust 程序至关重要。</p>
<p>下面我将详细介绍一些 Rust 中最常用和最重要的标准库模块和类型。其中一些我们可能在之前的讨论中已经涉及，这里会再次提及并放在标准库的上下文中进行归纳。</p>
<h3 id="1-预导入内容-The-Prelude"><a href="#1-预导入内容-The-Prelude" class="headerlink" title="1. 预导入内容 (The Prelude)"></a>1. 预导入内容 (The Prelude)</h3><p>Rust 有一个叫做“预导入 (prelude)”的列表，其中包含了一些非常常用且基础的类型、trait 和宏。这些项会自动被导入到每个 Rust 程序的模块作用域中，无需显式 <code>use</code> 声明。</p>
<p><code>std::prelude::v1</code> (当前稳定版预导入) 通常包括：</p>
<ul>
<li><strong>常用类型</strong>: <code>Option</code>, <code>Result</code>, <code>String</code>, <code>Vec</code>, <code>Box</code></li>
<li><strong>常用 Trait</strong>:<ul>
<li>转换: <code>AsRef</code>, <code>AsMut</code>, <code>Into</code>, <code>From</code>, <code>TryInto</code>, <code>TryFrom</code></li>
<li>比较: <code>PartialEq</code>, <code>PartialOrd</code>, <code>Eq</code>, <code>Ord</code></li>
<li>克隆: <code>Clone</code>, <code>Copy</code></li>
<li>调试与显示: <code>Debug</code>, <code>Display</code>, <code>ToString</code></li>
<li>所有权与生命周期: <code>Drop</code>, <code>Sized</code> (通常是隐式的)</li>
<li>函数与闭包: <code>Fn</code>, <code>FnMut</code>, <code>FnOnce</code></li>
<li>迭代: <code>Iterator</code>, <code>IntoIterator</code>, <code>Extend</code>, <code>FromIterator</code></li>
</ul>
</li>
<li><strong>常用宏</strong>: <code>println!</code>, <code>eprintln!</code>, <code>format!</code>, <code>vec!</code>, <code>assert!</code>, <code>assert_eq!</code>, <code>assert_ne!</code>, <code>panic!</code>, <code>cfg!</code>, <code>env!</code>, <code>option_env!</code>, <code>include!</code>, <code>include_str!</code>, <code>include_bytes!</code></li>
</ul>
<p>因为它们是自动导入的，所以你可以直接使用如 <code>Vec::new()</code> 或 <code>let opt: Option&lt;i32&gt; = Some(5);</code>。</p>
<h3 id="2-std-option-Option-和-std-result-Result"><a href="#2-std-option-Option-和-std-result-Result" class="headerlink" title="2. std::option::Option&lt;T&gt; 和 std::result::Result&lt;T, E&gt;"></a>2. <code>std::option::Option&lt;T&gt;</code> 和 <code>std::result::Result&lt;T, E&gt;</code></h3><p>这两个枚举是我们之前在错误处理和枚举部分详细讨论过的，它们是 Rust 处理可选值和可恢复错误的核心。</p>
<ul>
<li><strong><code>Option&lt;T&gt;</code></strong>: 表示一个值可能是某个 <code>T</code> 类型的值 (<code>Some(T)</code>)，或者什么都没有 (<code>None</code>)。<ul>
<li>常用方法: <code>is_some()</code>, <code>is_none()</code>, <code>unwrap()</code>, <code>expect()</code>, <code>unwrap_or()</code>, <code>unwrap_or_else()</code>, <code>map()</code>, <code>and_then()</code>, <code>ok_or()</code>, <code>iter()</code>.</li>
</ul>
</li>
<li><strong><code>Result&lt;T, E&gt;</code></strong>: 表示一个操作可能成功并返回 <code>T</code> 类型的值 (<code>Ok(T)</code>)，或者失败并返回 <code>E</code> 类型的错误 (<code>Err(E)</code>)。<ul>
<li>常用方法: <code>is_ok()</code>, <code>is_err()</code>, <code>unwrap()</code>, <code>expect()</code>, <code>unwrap_or()</code>, <code>unwrap_or_else()</code>, <code>ok()</code>, <code>err()</code>, <code>map()</code>, <code>map_err()</code>, <code>and_then()</code>, <code>or_else()</code>.</li>
</ul>
</li>
</ul>
<h3 id="3-std-string-String-和-str-字符串"><a href="#3-std-string-String-和-str-字符串" class="headerlink" title="3. std::string::String 和 &amp;str (字符串)"></a>3. <code>std::string::String</code> 和 <code>&amp;str</code> (字符串)</h3><ul>
<li><strong><code>String</code></strong>: 一个在堆上分配的、可增长的、UTF-8 编码的、拥有所有权的字符串类型。</li>
<li><strong><code>&amp;str</code></strong> (字符串切片): 一个对 UTF-8 编码字符串数据的不可变引用（通常）。字符串字面量就是 <code>&amp;&#39;static str</code> 类型。</li>
<li><strong>常用操作</strong>:<ul>
<li>创建: <code>String::new()</code>, <code>String::from(&quot;...&quot;)</code>, <code>to_string()</code></li>
<li>修改 (仅 <code>String</code>): <code>push_str()</code>, <code>push()</code>, <code>insert_str()</code>, <code>replace_range()</code>, <code>remove()</code>, <code>pop()</code>, <code>clear()</code></li>
<li>访问与切片: <code>len()</code> (字节长度), <code>is_empty()</code>, <code>as_bytes()</code>, <code>chars()</code> (迭代 Unicode 字符), <code>split_whitespace()</code>, <code>lines()</code>, <code>get()</code>, <code>[a..b]</code> (字节索引切片，需谨慎)</li>
<li>比较、搜索: <code>contains()</code>, <code>starts_with()</code>, <code>ends_with()</code>, <code>find()</code><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    s.<span class="title function_ invoke__">push_str</span>(<span class="string">&quot;, world!&quot;</span>); <span class="comment">// &quot;hello, world!&quot;</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, s);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s_slice</span>: &amp;<span class="type">str</span> = &amp;s[<span class="number">0</span>..<span class="number">5</span>]; <span class="comment">// &quot;hello&quot;</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Slice: &#123;&#125;&quot;</span>, s_slice);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="variable">c</span> <span class="keyword">in</span> s.<span class="title function_ invoke__">chars</span>() &#123;</span><br><span class="line">        <span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="4-std-vec-Vec-动态数组-向量"><a href="#4-std-vec-Vec-动态数组-向量" class="headerlink" title="4. std::vec::Vec&lt;T&gt; (动态数组&#x2F;向量)"></a>4. <code>std::vec::Vec&lt;T&gt;</code> (动态数组&#x2F;向量)</h3><p>一个在堆上分配的、可增长的数组类型。我们之前在集合类型中详细讨论过。</p>
<ul>
<li><strong>常用操作</strong>: <code>Vec::new()</code>, <code>vec![]</code> (宏), <code>push()</code>, <code>pop()</code>, <code>insert()</code>, <code>remove()</code>, <code>len()</code>, <code>capacity()</code>, <code>is_empty()</code>, <code>get()</code>, <code>[]</code> (索引访问), <code>iter()</code>, <code>iter_mut()</code>, <code>into_iter()</code>, <code>sort()</code>, <code>dedup()</code>.</li>
</ul>
<h3 id="5-std-collections-更多集合类型"><a href="#5-std-collections-更多集合类型" class="headerlink" title="5. std::collections (更多集合类型)"></a>5. <code>std::collections</code> (更多集合类型)</h3><p>除了 <code>Vec&lt;T&gt;</code>，<code>std::collections</code> 模块还提供了其他常用的集合类型：</p>
<ul>
<li><strong><code>HashMap&lt;K, V&gt;</code></strong>: 基于哈希表的键值对映射。无序。键 <code>K</code> 必须实现 <code>Eq</code> 和 <code>Hash</code>。</li>
<li><strong><code>BTreeMap&lt;K, V&gt;</code></strong>: 基于 B 树的键值对映射。键按顺序存储。键 <code>K</code> 必须实现 <code>Ord</code>。</li>
<li><strong><code>HashSet&lt;T&gt;</code></strong>: 基于哈希表的唯一值集合。无序。值 <code>T</code> 必须实现 <code>Eq</code> 和 <code>Hash</code>。</li>
<li><strong><code>BTreeSet&lt;T&gt;</code></strong>: 基于 B 树的唯一值集合。值按顺序存储。值 <code>T</code> 必须实现 <code>Ord</code>。</li>
<li><strong><code>VecDeque&lt;T&gt;</code></strong>: 双端队列，允许在头部和尾部高效地添加&#x2F;删除元素。</li>
<li><strong><code>LinkedList&lt;T&gt;</code></strong>: 双向链表 (在现代 Rust 中，<code>Vec</code> 或 <code>VecDeque</code> 通常是更好的选择)。</li>
<li><strong><code>BinaryHeap&lt;T&gt;</code></strong>: 基于二叉堆的优先队列 (默认为最大堆)。值 <code>T</code> 必须实现 <code>Ord</code>。</li>
</ul>
<h3 id="6-std-io-输入-输出"><a href="#6-std-io-输入-输出" class="headerlink" title="6. std::io (输入&#x2F;输出)"></a>6. <code>std::io</code> (输入&#x2F;输出)</h3><p>此模块提供了 Rust 的核心 I&#x2F;O 功能，用于处理文件、网络连接、标准输入&#x2F;输出等。</p>
<ul>
<li><strong>核心 Trait</strong>:<ul>
<li><code>Read</code>: 用于从数据源读取字节。提供 <code>read()</code>, <code>read_to_string()</code>, <code>read_exact()</code> 等方法。</li>
<li><code>Write</code>: 用于向数据目标写入字节。提供 <code>write()</code>, <code>write_all()</code>, <code>flush()</code> 等方法。</li>
<li><code>BufRead</code>: <code>Read</code> 的一个子 trait，提供了对缓冲读取的支持 (例如，逐行读取 <code>read_line()</code>)。</li>
</ul>
</li>
<li><strong>主要类型</strong>:<ul>
<li><code>std::fs::File</code>: 代表一个文件 (同时实现了 <code>Read</code> 和 <code>Write</code>)。</li>
<li><code>std::io::Stdin</code>: 标准输入流的句柄。</li>
<li><code>std::io::Stdout</code>: 标准输出流的句柄。</li>
<li><code>std::io::Stderr</code>: 标准错误流的句柄。</li>
<li><code>BufReader&lt;R: Read&gt;</code>: 为实现了 <code>Read</code> 的类型提供缓冲。</li>
<li><code>BufWriter&lt;W: Write&gt;</code>: 为实现了 <code>Write</code> 的类型提供缓冲。</li>
</ul>
</li>
<li><strong>错误</strong>: <code>std::io::Error</code> 是此模块中操作通常返回的错误类型，<code>std::io::Result&lt;T&gt;</code> 是 <code>Result&lt;T, std::io::Error&gt;</code> 的类型别名。</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::io::&#123;<span class="keyword">self</span>, Read, Write&#125;;</span><br><span class="line"><span class="keyword">use</span> std::fs::File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() <span class="punctuation">-&gt;</span> io::<span class="type">Result</span>&lt;()&gt; &#123;</span><br><span class="line">    <span class="comment">// 文件写入</span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">file</span> = File::<span class="title function_ invoke__">create</span>(<span class="string">&quot;foo.txt&quot;</span>)?;</span><br><span class="line">    file.<span class="title function_ invoke__">write_all</span>(<span class="string">b&quot;Hello, file!&quot;</span>)?;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Wrote to foo.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 文件读取</span></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">file</span> = File::<span class="title function_ invoke__">open</span>(<span class="string">&quot;foo.txt&quot;</span>)?;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">contents</span> = <span class="type">String</span>::<span class="title function_ invoke__">new</span>();</span><br><span class="line">    file.<span class="title function_ invoke__">read_to_string</span>(&amp;<span class="keyword">mut</span> contents)?;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Read from foo.txt: &#123;&#125;&quot;</span>, contents);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从标准输入读取一行</span></span><br><span class="line">    <span class="comment">// println!(&quot;Type something:&quot;);</span></span><br><span class="line">    <span class="comment">// let mut input_line = String::new();</span></span><br><span class="line">    <span class="comment">// io::stdin().read_line(&amp;mut input_line)?;</span></span><br><span class="line">    <span class="comment">// print!(&quot;You typed: &#123;&#125;&quot;, input_line);</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-std-fs-文件系统操作"><a href="#7-std-fs-文件系统操作" class="headerlink" title="7. std::fs (文件系统操作)"></a>7. <code>std::fs</code> (文件系统操作)</h3><p>此模块提供了与文件系统交互的功能，如创建&#x2F;删除文件和目录、读取目录内容、获取元数据等。许多函数返回 <code>std::io::Result&lt;T&gt;</code>。</p>
<ul>
<li><strong>主要函数和类型</strong>:<ul>
<li><code>File::open()</code>, <code>File::create()</code> (在 <code>std::fs</code> 中重新导出)</li>
<li><code>read(path)</code>: 将整个文件内容读取到 <code>Vec&lt;u8&gt;</code>。</li>
<li><code>read_to_string(path)</code>: 将整个文件内容读取到 <code>String</code>。</li>
<li><code>write(path, contents)</code>: 将字节或字符串写入文件。</li>
<li><code>create_dir(path)</code>, <code>create_dir_all(path)</code> (递归创建)</li>
<li><code>remove_dir(path)</code>, <code>remove_dir_all(path)</code> (递归删除)</li>
<li><code>remove_file(path)</code></li>
<li><code>rename(from, to)</code>, <code>copy(from, to)</code></li>
<li><code>read_dir(path)</code>: 返回一个迭代器，用于遍历目录中的条目 (<code>DirEntry</code>)。</li>
<li><code>metadata(path)</code>: 获取文件或目录的元数据 (如大小、权限、修改时间等，返回 <code>Metadata</code> 类型)。</li>
<li><code>Path</code> 和 <code>PathBuf</code> 类型 (来自 <code>std::path</code>) 用于处理路径。</li>
</ul>
</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fs;</span><br><span class="line"><span class="keyword">use</span> std::path::Path;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() <span class="punctuation">-&gt;</span> std::io::<span class="type">Result</span>&lt;()&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">dir_path</span> = Path::<span class="title function_ invoke__">new</span>(<span class="string">&quot;./my_temp_dir&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> !dir_path.<span class="title function_ invoke__">exists</span>() &#123;</span><br><span class="line">        fs::<span class="title function_ invoke__">create_dir</span>(dir_path)?;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Created directory: &#123;:?&#125;&quot;</span>, dir_path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">file_path</span> = dir_path.<span class="title function_ invoke__">join</span>(<span class="string">&quot;temp_file.txt&quot;</span>);</span><br><span class="line">    fs::<span class="title function_ invoke__">write</span>(&amp;file_path, <span class="string">&quot;Some temporary data.&quot;</span>)?;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Wrote to file: &#123;:?&#125;&quot;</span>, file_path);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">content</span> = fs::<span class="title function_ invoke__">read_to_string</span>(&amp;file_path)?;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Content of &#123;:?&#125;: &#123;&#125;&quot;</span>, file_path, content);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fs::remove_file(&amp;file_path)?;</span></span><br><span class="line">    <span class="comment">// fs::remove_dir(dir_path)?;</span></span><br><span class="line">    <span class="comment">// println!(&quot;Cleaned up temporary directory and file.&quot;);</span></span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-std-net-网络"><a href="#8-std-net-网络" class="headerlink" title="8. std::net (网络)"></a>8. <code>std::net</code> (网络)</h3><p>提供基本的同步网络功能，如 TCP 和 UDP 套接字。对于更高级或异步的网络编程，通常会使用像 <code>tokio</code>, <code>async-std</code>, <code>reqwest</code> (HTTP客户端) 等外部库。</p>
<ul>
<li><strong>主要类型</strong>:<ul>
<li><code>TcpListener</code>: 用于监听传入的 TCP 连接。</li>
<li><code>TcpStream</code>: 代表一个 TCP 连接。实现了 <code>Read</code> 和 <code>Write</code>。</li>
<li><code>UdpSocket</code>: 用于发送和接收 UDP 数据报。</li>
<li><code>SocketAddr</code>, <code>SocketAddrV4</code>, <code>SocketAddrV6</code>: 套接字地址。</li>
<li><code>IpAddr</code>, <code>Ipv4Addr</code>, <code>Ipv6Addr</code>: IP 地址。</li>
<li><code>ToSocketAddrs</code> trait: 用于将主机名&#x2F;端口等转换为 <code>SocketAddr</code>。</li>
</ul>
</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 概念性示例 (实际运行可能需要更多设置)</span></span><br><span class="line"><span class="comment">// use std::net::&#123;TcpListener, TcpStream&#125;;</span></span><br><span class="line"><span class="comment">// use std::io::&#123;Read, Write&#125;;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// fn handle_client(mut stream: TcpStream) -&gt; std::io::Result&lt;()&gt; &#123;</span></span><br><span class="line"><span class="comment">//     let mut buffer = [0; 512];</span></span><br><span class="line"><span class="comment">//     stream.read(&amp;mut buffer)?;</span></span><br><span class="line"><span class="comment">//     println!(&quot;Request: &#123;&#125;&quot;, String::from_utf8_lossy(&amp;buffer[..]));</span></span><br><span class="line"><span class="comment">//     let response = &quot;HTTP/1.1 200 OK\r\n\r\nHello from Rust TCP server!&quot;;</span></span><br><span class="line"><span class="comment">//     stream.write(response.as_bytes())?;</span></span><br><span class="line"><span class="comment">//     stream.flush()?;</span></span><br><span class="line"><span class="comment">//     Ok(())</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// fn main() -&gt; std::io::Result&lt;()&gt; &#123;</span></span><br><span class="line"><span class="comment">//     let listener = TcpListener::bind(&quot;127.0.0.1:7878&quot;)?;</span></span><br><span class="line"><span class="comment">//     println!(&quot;Server listening on port 7878&quot;);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//     for stream in listener.incoming() &#123; // incoming() 返回一个迭代器</span></span><br><span class="line"><span class="comment">//         match stream &#123;</span></span><br><span class="line"><span class="comment">//             Ok(stream) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//                 println!(&quot;New connection: &#123;&#125;&quot;, stream.peer_addr()?);</span></span><br><span class="line"><span class="comment">//                 std::thread::spawn(move || &#123; // 为每个连接创建一个新线程 (简单模型)</span></span><br><span class="line"><span class="comment">//                     if let Err(e) = handle_client(stream) &#123;</span></span><br><span class="line"><span class="comment">//                         eprintln!(&quot;Error handling client: &#123;&#125;&quot;, e);</span></span><br><span class="line"><span class="comment">//                     &#125;</span></span><br><span class="line"><span class="comment">//                 &#125;);</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//             Err(e) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//                 eprintln!(&quot;Connection failed: &#123;&#125;&quot;, e);</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     Ok(())</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="9-std-fmt-格式化"><a href="#9-std-fmt-格式化" class="headerlink" title="9. std::fmt (格式化)"></a>9. <code>std::fmt</code> (格式化)</h3><p>这个模块包含了所有与格式化输出（如 <code>println!</code>, <code>format!</code>）相关的 trait 和类型。</p>
<ul>
<li><strong>核心 Trait</strong>:<ul>
<li><code>Debug</code>: 用于开发者调试输出 (<code>&#123;:?&#125;</code> 或 <code>&#123;:#?&#125;</code> 格式化指示符)。大多数类型应该实现它 (通常通过 <code>#[derive(Debug)]</code>)。</li>
<li><code>Display</code>: 用于更用户友好的、面向最终用户的字符串表示 (<code>&#123;&#125;</code> 格式化指示符)。需要手动实现。</li>
</ul>
</li>
<li><code>Formatter</code>: <code>Display</code> 和 <code>Debug</code> 的 <code>fmt</code> 方法接收一个 <code>&amp;mut Formatter</code> 参数，用于将输出写入流。</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    x: <span class="type">i32</span>,</span><br><span class="line">    y: <span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 手动实现 Debug</span></span><br><span class="line"><span class="comment">// impl fmt::Debug for Point &#123;</span></span><br><span class="line"><span class="comment">//     fn fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#x27;_&gt;) -&gt; fmt::Result &#123;</span></span><br><span class="line"><span class="comment">//         f.debug_struct(&quot;Point&quot;)</span></span><br><span class="line"><span class="comment">//          .field(&quot;x&quot;, &amp;self.x)</span></span><br><span class="line"><span class="comment">//          .field(&quot;y&quot;, &amp;self.y)</span></span><br><span class="line"><span class="comment">//          .finish()</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// 或者更简单地使用派生：</span></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">PointDerived</span> &#123;</span><br><span class="line">    x: <span class="type">i32</span>, y: <span class="type">i32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">fmt</span>::Display <span class="keyword">for</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">fmt</span>(&amp;<span class="keyword">self</span>, f: &amp;<span class="keyword">mut</span> fmt::Formatter&lt;<span class="symbol">&#x27;_</span>&gt;) <span class="punctuation">-&gt;</span> fmt::<span class="type">Result</span> &#123;</span><br><span class="line">        <span class="built_in">write!</span>(f, <span class="string">&quot;(&#123;&#125;, &#123;&#125;)&quot;</span>, <span class="keyword">self</span>.x, <span class="keyword">self</span>.y) <span class="comment">// write! 是一个宏，类似于 println!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p</span> = Point &#123; x: <span class="number">10</span>, y: <span class="number">20</span> &#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">pd</span> = PointDerived &#123;x:<span class="number">1</span>, y:<span class="number">2</span>&#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Display: &#123;&#125;&quot;</span>, p);  <span class="comment">// 使用 Display trait</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Debug: &#123;:?&#125;&quot;</span>, p);   <span class="comment">// 使用 Debug trait (如果手动实现)</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Debug derived: &#123;:?&#125;&quot;</span>, pd); <span class="comment">// 使用派生的 Debug</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Pretty Debug derived: &#123;:#?&#125;&quot;</span>, pd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10-std-error-Error-Trait"><a href="#10-std-error-Error-Trait" class="headerlink" title="10. std::error::Error Trait"></a>10. <code>std::error::Error</code> Trait</h3><p>我们之前在错误处理中讨论过，这个 trait 是 Rust 中用于自定义错误类型的标准接口。</p>
<h3 id="11-std-thread-std-sync-并发"><a href="#11-std-thread-std-sync-并发" class="headerlink" title="11. std::thread, std::sync (并发)"></a>11. <code>std::thread</code>, <code>std::sync</code> (并发)</h3><p>这些模块提供了创建线程、线程间同步（<code>Mutex</code>, <code>RwLock</code>, <code>Arc</code>, <code>Barrier</code>, <code>Condvar</code>）和消息传递 (<code>mpsc</code> 通道) 的功能，我们也在并发部分讨论过。</p>
<h3 id="12-std-time-时间和持续时间"><a href="#12-std-time-时间和持续时间" class="headerlink" title="12. std::time (时间和持续时间)"></a>12. <code>std::time</code> (时间和持续时间)</h3><p>用于处理时间点和时间段。</p>
<ul>
<li><code>Instant</code>: 通常用于测量代码执行时间，因为它保证是单调递增的。</li>
<li><code>SystemTime</code>: 代表系统时钟的时间。可以用来获取当前日期和时间，但可能会受到系统时间调整的影响。</li>
<li><code>Duration</code>: 代表一个时间段 (例如，5秒，100毫秒)。</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::time::&#123;Instant, Duration&#125;;</span><br><span class="line"><span class="keyword">use</span> std::thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">start</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="comment">// 一些耗时操作</span></span><br><span class="line">    thread::<span class="title function_ invoke__">sleep</span>(Duration::<span class="title function_ invoke__">from_millis</span>(<span class="number">150</span>));</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">duration</span> = start.<span class="title function_ invoke__">elapsed</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Time elapsed is: &#123;:?&#125;&quot;</span>, duration); <span class="comment">// 例如: 150.123456ms</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">match</span> std::time::SystemTime::<span class="title function_ invoke__">now</span>().<span class="title function_ invoke__">duration_since</span>(std::time::UNIX_EPOCH) &#123;</span><br><span class="line">        <span class="title function_ invoke__">Ok</span>(n) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Seconds since UNIX epoch: &#123;&#125;&quot;</span>, n.<span class="title function_ invoke__">as_secs</span>()),</span><br><span class="line">        <span class="title function_ invoke__">Err</span>(_) =&gt; <span class="built_in">panic!</span>(<span class="string">&quot;SystemTime before UNIX EPOCH!&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-std-env-环境"><a href="#13-std-env-环境" class="headerlink" title="13. std::env (环境)"></a>13. <code>std::env</code> (环境)</h3><p>允许与程序运行的环境交互。</p>
<ul>
<li><code>args() -&gt; Args</code>: 返回一个迭代器，产生程序的命令行参数。第一个参数通常是程序自身的路径。</li>
<li><code>vars() -&gt; Vars</code>: 返回一个迭代器，产生环境变量的键值对 <code>(String, String)</code>。</li>
<li><code>current_dir() -&gt; io::Result&lt;PathBuf&gt;</code>: 获取当前工作目录。</li>
<li><code>set_current_dir(path: P) -&gt; io::Result&lt;()&gt;</code>: 设置当前工作目录。</li>
<li><code>var(key: K) -&gt; Result&lt;String, VarError&gt;</code>: 获取指定环境变量的值。</li>
</ul>
<h3 id="14-std-path-Path-PathBuf-路径操作"><a href="#14-std-path-Path-PathBuf-路径操作" class="headerlink" title="14. std::path::{Path, PathBuf} (路径操作)"></a>14. <code>std::path::&#123;Path, PathBuf&#125;</code> (路径操作)</h3><p><code>Path</code> 表示一个借用的文件系统路径（类似于 <code>&amp;str</code>），而 <code>PathBuf</code> 是一个拥有所有权的、可变的路径（类似于 <code>String</code>）。</p>
<ul>
<li><strong>常用方法</strong>: <code>join()</code>, <code>parent()</code>, <code>file_name()</code>, <code>extension()</code>, <code>is_absolute()</code>, <code>is_relative()</code>, <code>exists()</code>, <code>is_file()</code>, <code>is_dir()</code>.</li>
</ul>
<h3 id="15-std-process-Command-执行外部进程"><a href="#15-std-process-Command-执行外部进程" class="headerlink" title="15. std::process::Command (执行外部进程)"></a>15. <code>std::process::Command</code> (执行外部进程)</h3><p>用于创建和管理子进程。</p>
<ul>
<li><strong>配置</strong>: <code>Command::new(&quot;program_name&quot;)</code>, <code>.arg(&quot;arg1&quot;)</code>, <code>.args(&amp;[&quot;arg2&quot;, &quot;arg3&quot;])</code>, <code>.env(&quot;KEY&quot;, &quot;VALUE&quot;)</code>, <code>.current_dir(&quot;/path/to/workdir&quot;)</code></li>
<li><strong>执行</strong>:<ul>
<li><code>status() -&gt; io::Result&lt;ExitStatus&gt;</code>: 运行命令并等待其完成，返回退出状态。</li>
<li><code>output() -&gt; io::Result&lt;Output&gt;</code>: 运行命令，捕获其标准输出、标准错误和退出状态。</li>
<li><code>spawn() -&gt; io::Result&lt;Child&gt;</code>: 异步启动子进程，返回一个 <code>Child</code> 句柄，可以用来等待进程或与其交互。</li>
</ul>
</li>
<li><strong>I&#x2F;O 重定向</strong>: <code>.stdin()</code>, <code>.stdout()</code>, <code>.stderr()</code> 方法可以配置子进程的输入输出流。</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::process::Command;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() <span class="punctuation">-&gt;</span> std::io::<span class="type">Result</span>&lt;()&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">output</span> = Command::<span class="title function_ invoke__">new</span>(<span class="string">&quot;rustc&quot;</span>) <span class="comment">// 或者其他系统命令如 &quot;ls&quot;, &quot;echo&quot;</span></span><br><span class="line">                        .<span class="title function_ invoke__">arg</span>(<span class="string">&quot;--version&quot;</span>)</span><br><span class="line">                        .<span class="title function_ invoke__">output</span>()?; <span class="comment">// 运行命令并捕获输出</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> output.status.<span class="title function_ invoke__">success</span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">stdout_str</span> = <span class="type">String</span>::<span class="title function_ invoke__">from_utf8_lossy</span>(&amp;output.stdout);</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;rustc version: &#123;&#125;&quot;</span>, stdout_str);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">stderr_str</span> = <span class="type">String</span>::<span class="title function_ invoke__">from_utf8_lossy</span>(&amp;output.stderr);</span><br><span class="line">        <span class="built_in">eprintln!</span>(<span class="string">&quot;Command failed: &#123;&#125;&quot;</span>, stderr_str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="16-std-marker-标记-Trait"><a href="#16-std-marker-标记-Trait" class="headerlink" title="16. std::marker (标记 Trait)"></a>16. <code>std::marker</code> (标记 Trait)</h3><p>包含特殊的标记 trait（没有方法，仅用于标记类型）和与类型系统相关的工具。</p>
<ul>
<li><code>Send</code>, <code>Sync</code>: (并发)</li>
<li><code>Copy</code>: (所有权)</li>
<li><code>Sized</code>: 标记编译时大小已知的类型 (大多数类型都是 <code>Sized</code>)。<code>?Sized</code> 用于标记动态大小类型 (DSTs)。</li>
<li><code>Unpin</code>: (异步编程) 与 <code>Pin</code> 相关。</li>
<li><code>PhantomData&lt;T&gt;</code>: 一个零大小的类型，用于在数据结构中“标记”它拥有或关联某种类型 <code>T</code>，即使该结构体中实际上并没有存储 <code>T</code> 类型的值。常用于 <code>unsafe</code> 代码、生命周期或类型系统技巧。</li>
</ul>
<h3 id="17-std-convert-和-std-convert-identity"><a href="#17-std-convert-和-std-convert-identity" class="headerlink" title="17. std::convert 和 std::convert::identity"></a>17. <code>std::convert</code> 和 <code>std::convert::identity</code></h3><p>包含用于类型转换的 trait：</p>
<ul>
<li><code>From&lt;T&gt;</code> 和 <code>Into&lt;T&gt;</code>: 通用类型转换。实现 <code>From&lt;T&gt; for U</code> 会自动为你提供 <code>Into&lt;U&gt; for T</code>。</li>
<li><code>TryFrom&lt;T&gt;</code> 和 <code>TryInto&lt;T&gt;</code>: 用于可能失败的转换，返回 <code>Result</code>。</li>
<li><code>AsRef&lt;T&gt;</code> 和 <code>AsMut&lt;T&gt;</code>: 用于廉价的引用到引用的转换。</li>
</ul>
<p>Rust 的标准库非常庞大且设计精良。这里介绍的只是其中最常用的一部分。当你开始编写更复杂的程序时，你会发现自己会经常查阅标准库文档 (<a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/">https://doc.rust-lang.org/std/</a>) 来寻找解决特定问题的工具。</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Jackey Zhou</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/')">Rust常用标准库</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Rust常用标准库&amp;url=http://example.com/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Welcome To LifeTech's Blog</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Rust基础知识<span class="tagsPageCount">21</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/05/08/Rust%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Rust异步编程</div></div></a></div><div class="next-post pull-right"><a href="/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Rust常用第三方库</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/05/08/Copy%E5%92%8CMove/" title="Copy和Move"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-08</div><div class="title">Copy和Move</div></div></a></div><div><a href="/2025/05/08/FFI/" title="FFI"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-08</div><div class="title">FFI</div></div></a></div><div><a href="/2025/05/08/Rust%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/" title="Rust常用第三方库"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-08</div><div class="title">Rust常用第三方库</div></div></a></div><div><a href="/2025/05/08/Rust%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" title="Rust异步编程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-08</div><div class="title">Rust异步编程</div></div></a></div><div><a href="/2025/05/08/Rust%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/" title="Rust综合案例"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-08</div><div class="title">Rust综合案例</div></div></a></div><div><a href="/2025/05/08/for%E5%BE%AA%E7%8E%AF/" title="for循环"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-08</div><div class="title">for循环</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">记录技术成长的个人博客</div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A2%84%E5%AF%BC%E5%85%A5%E5%86%85%E5%AE%B9-The-Prelude"><span class="toc-number">1.</span> <span class="toc-text">1. 预导入内容 (The Prelude)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-std-option-Option-%E5%92%8C-std-result-Result"><span class="toc-number">2.</span> <span class="toc-text">2. std::option::Option&lt;T&gt; 和 std::result::Result&lt;T, E&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-std-string-String-%E5%92%8C-str-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.</span> <span class="toc-text">3. std::string::String 和 &amp;str (字符串)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-std-vec-Vec-%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84-%E5%90%91%E9%87%8F"><span class="toc-number">4.</span> <span class="toc-text">4. std::vec::Vec&lt;T&gt; (动态数组&#x2F;向量)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-std-collections-%E6%9B%B4%E5%A4%9A%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">5. std::collections (更多集合类型)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-std-io-%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA"><span class="toc-number">6.</span> <span class="toc-text">6. std::io (输入&#x2F;输出)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-std-fs-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C"><span class="toc-number">7.</span> <span class="toc-text">7. std::fs (文件系统操作)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-std-net-%E7%BD%91%E7%BB%9C"><span class="toc-number">8.</span> <span class="toc-text">8. std::net (网络)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-std-fmt-%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">9.</span> <span class="toc-text">9. std::fmt (格式化)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-std-error-Error-Trait"><span class="toc-number">10.</span> <span class="toc-text">10. std::error::Error Trait</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-std-thread-std-sync-%E5%B9%B6%E5%8F%91"><span class="toc-number">11.</span> <span class="toc-text">11. std::thread, std::sync (并发)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-std-time-%E6%97%B6%E9%97%B4%E5%92%8C%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4"><span class="toc-number">12.</span> <span class="toc-text">12. std::time (时间和持续时间)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-std-env-%E7%8E%AF%E5%A2%83"><span class="toc-number">13.</span> <span class="toc-text">13. std::env (环境)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-std-path-Path-PathBuf-%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C"><span class="toc-number">14.</span> <span class="toc-text">14. std::path::{Path, PathBuf} (路径操作)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-std-process-Command-%E6%89%A7%E8%A1%8C%E5%A4%96%E9%83%A8%E8%BF%9B%E7%A8%8B"><span class="toc-number">15.</span> <span class="toc-text">15. std::process::Command (执行外部进程)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-std-marker-%E6%A0%87%E8%AE%B0-Trait"><span class="toc-number">16.</span> <span class="toc-text">16. std::marker (标记 Trait)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-std-convert-%E5%92%8C-std-convert-identity"><span class="toc-number">17.</span> <span class="toc-text">17. std::convert 和 std::convert::identity</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/" title="模型部署">模型部署</a><time datetime="2025-05-11T18:17:36.000Z" title="发表于 2025-05-12 02:17:36">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" title="数据科学与机器学习">数据科学与机器学习</a><time datetime="2025-05-11T18:17:28.000Z" title="发表于 2025-05-12 02:17:28">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/pytorch%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="pytorch基础知识">pytorch基础知识</a><time datetime="2025-05-11T18:17:15.000Z" title="发表于 2025-05-12 02:17:15">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="python基础知识">python基础知识</a><time datetime="2025-05-11T18:16:59.000Z" title="发表于 2025-05-12 02:16:59">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/ASP-NET-WEB-API/" title="ASP.NET WEB API">ASP.NET WEB API</a><time datetime="2025-05-11T18:16:40.000Z" title="发表于 2025-05-12 02:16:40">2025-05-12</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="Jackey Zhou" target="_blank">Jackey Zhou</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">50</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">0</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CSharp%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">CSharp学习<sup>3</sup></a><a href="/tags/IDE%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 0.88rem;">IDE常用快捷键<sup>2</sup></a><a href="/tags/Rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 0.88rem;">Rust基础知识<sup>21</sup></a><a href="/tags/csharp%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">csharp相关学习<sup>5</sup></a><a href="/tags/docker%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">docker学习<sup>1</sup></a><a href="/tags/hexo%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/" style="font-size: 0.88rem;">hexo博客常见命令<sup>1</sup></a><a href="/tags/python%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">python相关学习<sup>4</sup></a><a href="/tags/xmake%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">xmake学习<sup>3</sup></a><a href="/tags/%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">个人学习<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 0.88rem;">数据分析<sup>1</sup></a><a href="/tags/%E6%97%A0%E7%BA%BF%E8%B0%83%E8%AF%95/" style="font-size: 0.88rem;">无线调试<sup>1</sup></a><a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">深度学习<sup>1</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" style="font-size: 0.88rem;">系统常用命令<sup>2</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 0.88rem;">系统常用快捷键<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Jackey Zhou 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>