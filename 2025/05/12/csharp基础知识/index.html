<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>csharp基础知识 | Welcome To LifeTech's Blog</title><meta name="keywords" content="csharp相关学习"><meta name="author" content="Jackey Zhou"><meta name="copyright" content="Jackey Zhou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="csharp基础知识"><meta name="application-name" content="csharp基础知识"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="csharp基础知识"><meta property="og:url" content="http://example.com/2025/05/12/csharp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/index.html"><meta property="og:site_name" content="Welcome To LifeTech's Blog"><meta property="og:description" content="C# 常用知识和概念详解目录 简介 基础语法 Hello World 注释 大小写敏感 语句和分号 代码块   数据类型 值类型 (Value Types) 引用类型 (Reference Types) Nullable 值类型 类型转换   变量与常量 变量声明与初始化 常量 var 关键字"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta property="article:author" content="Jackey Zhou"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta name="description" content="C# 常用知识和概念详解目录 简介 基础语法 Hello World 注释 大小写敏感 语句和分号 代码块   数据类型 值类型 (Value Types) 引用类型 (Reference Types) Nullable 值类型 类型转换   变量与常量 变量声明与初始化 常量 var 关键字"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2025/05/12/csharp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Jackey Zhou","link":"链接: ","source":"来源: Welcome To LifeTech's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Welcome To LifeTech's Blog',
  title: 'csharp基础知识',
  postAI: '',
  pageFillDescription: 'C 常用知识和概念详解, 目录, 1. 简介, 2. 基础语法, Hello World, 注释, 大小写敏感, 语句和分号, 代码块, 3. 数据类型, 值类型 (Value Types), 引用类型 (Reference Types), Nullable 值类型, 类型转换, 4. 变量与常量, 变量声明与初始化, 常量, var 关键字, 5. 运算符, 算术运算符, 关系运算符, 逻辑运算符, 位运算符, 赋值运算符, 其他运算符, 6. 控制流语句, 条件语句 (if else if else switch), 循环语句 (for foreach while do-while), 跳转语句 (break continue return goto), 7. 方法 (Methods), 方法声明, 方法调用, 参数传递, 方法重载 (Method Overloading), 递归方法, 本地函数 (Local Functions) (C 7.0+), 8. 面向对象编程 (OOP), 类 (Classes) 与对象 (Objects), 构造函数 (Constructors), 析构函数 (Destructors), 封装 (Encapsulation) - 访问修饰符, 属性 (Properties), 继承 (Inheritance), 多态 (Polymorphism) - virtual override new, 抽象类 (Abstract Classes) 与抽象方法, 接口 (Interfaces), 静态成员 (Static Members), 结构体 (Structs), 枚举 (Enums), 9. 集合 (Collections), 数组 (Arrays), ListltTgt, DictionaryltTKey TValuegt, HashSetltTgt, QueueltTgt, StackltTgt, 10. LINQ (Language Integrated Query), 查询语法, 方法语法, 常用操作符 (Where Select OrderBy GroupBy Join 等), 11. 异常处理 (Exception Handling), try-catch-finally, 抛出异常 (throw), 自定义异常, 12. 委托 (Delegates) 与事件 (Events), 委托的声明与使用, 多播委托, 匿名方法与 Lambda 表达式, 事件的声明与使用, 13. 泛型 (Generics), 泛型类, 泛型方法, 泛型约束, 14. 异步编程 (Asynchronous Programming), async 和 await 关键字, Task 和 TaskltTResultgt, 15. 命名空间 (Namespaces), 16. 预处理器指令, 17. .NET 核心概念, CLR (Common Language Runtime), CTS (Common Type System), CLS (Common Language Specification), GC (Garbage Collection), 18. 其他常用特性, 字符串插值 (String Interpolation) (C 6.0+), Null 条件运算符 (Null-conditional operators) ?. 和 ?[] (C 6.0+), Null 合并运算符 (Null-coalescing operator) ??, 元组 (Tuples) (C 7.0+), 模式匹配 (Pattern Matching) (C 7.0+ 持续增强), 记录 (Records) (C 9+), 顶级语句 (Top-level statements) (C 9+)常用知识和概念详解目录简介基础语法注释大小写敏感语句和分号代码块数据类型值类型引用类型值类型类型转换变量与常量变量声明与初始化常量关键字运算符算术运算符关系运算符逻辑运算符位运算符赋值运算符其他运算符控制流语句条件语句循环语句跳转语句方法方法声明方法调用参数传递值传递引用传递参数参数方法重载递归方法本地函数面向对象编程类与对象构造函数析构函数较少使用封装访问修饰符属性继承多态抽象类与抽象方法接口静态成员结构体枚举集合数组查询语法方法语法常用操作符等异常处理抛出异常自定义异常委托与事件委托的声明与使用多播委托匿名方法与表达式事件的声明与使用泛型泛型类泛型方法泛型约束异步编程和关键字和命名空间预处理器指令核心概念其他常用特性字符串插值条件运算符和合并运算符元组模式匹配记录顶级语句简介发音为是一种现代的面向对象的类型安全的编程语言它由微软开发并在平台上运行旨在构建各种应用程序包括应用桌面应用移动应用游戏云服务等基础语法一个最简单的程序引入命名空间其中包含类声明一个命名空间用于组织代码声明一个类程序的入口点方法必须是静态的注释单行注释这是单行注释多行注释这是多行注释文档注释这是文档注释大小写敏感是大小写敏感的例如和是两个不同的变量语句和分号中的每个语句都必须以分号结尾代码块代码块是用花括号包围的一组语句用于定义类方法命名空间控制流结构等的范围数据类型中的数据类型分为值类型和引用类型值类型直接存储数据值通常在栈上分配整型浮点型高精度小数适用于金融计算布尔型结构体用户自定义的值类型枚举用户自定义的命名常量集合后缀表示引用类型存储对数据实际位置的引用内存地址数据本身在堆上分配字符串类所有用户定义的类以及提供的类如接口委托数组类型比较特殊虽然是引用类型但其行为在某些方面如比较和赋值表现得像值类型具有不变性值类型值类型默认不能为如果需要让值类型能够表示可以使用或类型转换隐式转换安全的转换不会丢失数据从小范围类型到大范围类型隐式转换显式转换强制转换可能导致数据丢失或引发异常需要使用转换操作符显式转换小数部分丢失类类提供了多种转换方法和方法多数基本数据类型都有和方法用于将字符串转换为该类型变量与常量变量声明与初始化声明数据类型变量名初始化变量名值声明并初始化数据类型变量名值常量使用关键字声明其值在编译时确定且不能更改使用关键字声明的字段其值可以在声明时或构造函数中初始化之后不能更改运行时常量关键字关键字用于类型推断编译器会根据初始化表达式自动推断变量的类型声明的变量仍然是强类型的编译器推断为编译器推断为编译器推断为错误必须初始化运算符算术运算符加减乘除取模自增自减关系运算符等于不等于大于小于大于等于小于等于返回值逻辑运算符逻辑与逻辑或逻辑非用于连接或反转布尔表达式位运算符按位与按位或按位异或按位取反左移右移赋值运算符赋值其他运算符返回值类型的大小字节返回类型的对象检查对象是否兼容于指定类型尝试将对象转换为指定类型如果转换失败则返回不抛出异常合并运算符表示如果不为则结果为否则为和条件运算符运算符控制流语句条件语句及更高版本支持模式匹配的语句循环语句循环循环用于遍历集合循环循环至少执行一次循环体至少执行一次跳转语句立即终止最内层的循环或语句跳过当前循环的剩余部分开始下一次迭代从方法中返回值并退出方法跳转到带标签的语句不推荐大量使用可能导致代码难以理解方法方法是包含一系列语句的代码块用于执行特定任务方法声明访问修饰符可选修饰符返回类型方法名参数列表方法体返回值如果返回类型不是示例方法调用调用方法调用方法参数传递值传递默认方式传递参数值的副本方法内对参数的修改不影响原始变量引用传递使用关键字传递参数的引用方法内对参数的修改会影响原始变量现在是参数使用关键字类似于但参数在传入方法前不必初始化且必须在方法内部赋值常用于方法需要返回多个值的场景必须赋值参数使用关键字允许方法接受可变数量的参数参数必须是方法参数列表中的最后一个并且其类型必须是一维数组传递多个参数传递数组方法重载在同一个类中可以有多个同名方法但它们的参数列表必须不同参数数量类型或顺序不同返回类型不同不足以构成重载递归方法方法调用自身需要有明确的终止条件以避免无限递归终止条件递归调用本地函数在方法内部定义的方法只能在包含它们的方法内部访问本地函数面向对象编程是一种完全面向对象的语言的核心概念包括类与对象类对象的蓝图或模板定义了对象的属性数据成员和行为方法成员对象类的实例类定义字段数据成员方法行为成员创建对象实例化输出构造函数特殊的方法用于在创建对象时初始化对象构造函数名与类名相同没有返回类型默认构造函数如果未显式定义编译器会提供一个无参的公共构造函数带参数的构造函数可以使用关键字调用同一个类中的其他构造函数构造函数链析构函数特殊的方法用于在对象被垃圾回收器回收之前执行清理操作析构函数名以开头后跟类名无参数无返回类型在中不常手动实现因为垃圾回收器会自动处理内存管理主要用于释放非托管资源不常用仅为示例析构函数清理非托管资源如文件句柄推荐使用接口和语句来管理非托管资源封装访问修饰符封装是将数据属性和操作数据的方法捆绑在一起并对外部隐藏对象的内部实现细节通过访问修饰符控制成员的可见性任何地方都可以访问只能在声明它的类内部访问默认只能在声明它的类及其派生类中访问只能在同一个程序集中访问只能在同一个程序集中的声明类派生类或者不同程序集中的派生类访问只能在同一个程序集中并且在声明它的类及其派生类中访问属性属性提供了一种灵活的机制来读取写入或计算私有字段的值它们使用和访问器私有字段公共属性是一个隐式参数代表赋给属性的值自动属性编译器会自动生成私有备份字段只读属性只有访问器初始化器表达式主体属性只读属性可以在构造函数中赋值继承允许一个类派生类子类继承另一个类基类父类的属性和方法使用表示继承不支持多重类继承但支持多重接口继承基类派生类继承自继承自自己的方法关键字用于从派生类中访问基类的成员例如调用基类构造函数或方法多态多态意味着多种形态允许使用基类类型的引用来引用派生类对象并调用派生类中重写的方法在基类中声明方法为虚拟方法表示该方法可以在派生类中被重写在派生类中重写基类的虚拟方法在派生类中隐藏基类的同名成员不推荐除非明确知道其意图虚拟方法重写方法重写方法调用的是实际对象类型或的方法输出抽象类与抽象方法抽象类不能被实例化的类通常作为其他类的基类可以包含抽象成员和非抽象成员抽象方法在抽象类中声明但没有实现的方法派生类必须重写所有的抽象方法除非派生类本身也是抽象类抽象类抽象方法没有实现具体方法必须实现抽象方法接口接口定义了一个契约规定了实现该接口的类或结构体必须提供哪些成员方法属性事件索引器接口成员默认是和的类可以实现多个接口接口方法隐式和接口属性实现多个接口从开始接口可以包含默认实现的方法静态成员静态成员属于类本身而不是类的任何特定实例使用类名直接访问静态字段属性所有实例共享同一个静态字段属性的值静态方法不需要创建类的实例即可调用不能访问非静态成员实例成员静态构造函数用于初始化类的静态成员在第一次访问类的静态成员或创建类的第一个实例之前自动调用且只调用一次静态类只能包含静态成员不能被实例化或继承例如静态字段静态方法结构体结构体是值类型通常用于表示轻量级对象与类的主要区别结构体是值类型类是引用类型结构体不支持继承但可以实现接口所有结构体隐式继承自结构体不能有用户定义的无参构造函数除非是且显式声明结构体实例可以直接在栈上分配如果不是大型结构体或数组元素效率较高调用构造函数也可以不使用但字段需要在使用前赋值枚举枚举是一种值类型用于定义一组命名的整数常量可以指定底层类型输出输出集合和命名空间提供了多种集合类泛型集合是类型安全的推荐使用数组固定大小的相同类型元素的集合一维数组声明并初始化大小声明并初始化元素二维数组矩形数组交错数组数组的数组动态大小的列表可以方便地添加删除查找元素键值对的集合通过键快速查找值键必须是唯一的也可以这样添加或更新不包含重复元素的无序集合提供高效的集合运算并集交集差集重复元素不会被添加输出先进先出队列入队出队后进先出栈入栈出栈提供了在中直接编写查询的功能可以查询各种数据源对象集合数据库等查询语法类似于的声明式语法方法语法使用扩展方法和表达式两种语法在功能上是等效的可以互相转换常用操作符等过滤序列投影序列中的每个元素到新形式排序次级排序分组连接两个序列获取满足条件的第一个唯一一个元素或默认值判断序列中是否有所有元素满足条件聚合操作异常处理用于处理程序运行时发生的错误包含可能引发异常的代码块捕获并处理特定类型的异常可以有多个块包含无论是否发生异常都必须执行的代码块例如资源释放引发引发捕获所有其他类型的异常应放在特定异常之后抛出异常使用关键字可以显式抛出一个异常自定义异常可以创建继承自或其子类的自定义异常类使用自定义异常委托与事件委托的声明与使用委托是一种引用类型可以持有对方法的引用它定义了方法的签名返回类型和参数类型类似于中的函数指针声明委托类型创建委托实例并指向方法或者使用简化语法调用委托输出输出输出多播委托一个委托实例可以引用多个方法调用委托时会依次调用所有引用的方法使用或组合委托使用或移除添加另一个方法两个方法都会被调用匿名方法与表达式可以不显式声明方法而直接将代码块赋给委托匿名方法输出表达式更简洁的语法输出输出表达式广泛用于和异步编程事件的声明与使用事件是一种特殊的委托允许类或对象向其他类或对象通知发生了某些事情事件提供了一种发布订阅机制定义委托通常使用或声明事件使用关键字是预定义的委托模拟按钮点击触发事件负责触发事件的方法通常是如果有订阅者则调用委托订阅事件是事件处理程序事件处理程序方法签名必须与委托匹配泛型泛型允许编写可重用的类型安全的代码而无需为每种数据类型重复编写通过类型参数实现泛型类是类型参数编译错误类型安全泛型方法泛型方法显式指定类型参数或者编译器类型推断泛型约束可以对类型参数施加约束限制可以用于类型参数的类型值类型引用类型具有公共无参构造函数继承自指定基类实现指定接口继承自或实现异步编程用于执行耗时操作如网络请求而不阻塞主线程从而保持应用程序的响应性和关键字修饰方法表示该方法是异步方法异步方法可以包含表达式等待一个或完成而不会阻塞调用线程在等待期间控制权返回给调用者非阻塞等待当完成后代码从这里继续执行可能在不同线程返回前个字符异步方法的返回类型通常是如果方法不返回结果或如果方法返回类型为的结果对于事件处理程序等不能返回的情况可以使用但应尽量避免和表示一个异步操作表示一个返回类型结果的异步操作可用于在线程池线程上异步执行密集型工作等待多个完成等待多个中的任何一个完成命名空间用于组织和限定类型名称避免名称冲突使用关键字声明使用或者完全限定名称预处理器指令在编译之前由编译器处理的指令以开头定义取消定义条件编译符号条件编译定义可折叠的代码区域在中在编译时产生警告错误禁用或恢复特定警告核心概念的运行时环境负责管理代码执行包括内存管理垃圾回收即时编译将通用中间语言编译为本机代码异常处理安全性线程管理定义了在中如何声明使用和管理类型确保用不同语言编写的组件可以互操作的一个子集定义了一组规则遵循这些规则编写的组件可以被任何语言使用的一部分自动管理内存垃圾回收器会定期查找不再被引用的对象并释放它们占用的内存其他常用特性字符串插值一种更方便地创建格式化字符串的方法使用前缀可以包含表达式和格式化条件运算符和用于在访问成员或索引器之前安全地检查对象是否为如果对象为表达式的结果为而不是抛出如果或为则为如果为则为调用方法如果或为则不调用方法合并运算符如果左操作数不为则返回左操作数否则返回右操作数如果为则为引入了合并赋值运算符等价于元组提供了一种轻量级的方式来组合多个值创建元组隐式类型和命名元素元组作为方法返回值解构元组模式匹配持续增强允许基于对象的形状类型属性值等来检查和执行代码表达式与类型模式类型模式如果是则转换为语句中的模式匹配带子句的后续版本增加了更多模式如属性模式元组模式位置模式关系模式逻辑模式等记录一种特殊的类或结构体主要用于封装数据编译器会自动生成构造函数属性以及解构方法记录默认是不可变的位置记录值相等性比较表达式创建副本并修改部分属性也可以声明为值类型记录顶级语句允许在命名空间或类之外编写方法的内容简化简单程序和脚本的编写在一个文件中编译器会自动生成类和方法一个项目中只能有一个文件使用顶级语句这份文档涵盖了的大部分常用知识点和核心概念是一门功能丰富且不断发展的语言建议结合实际编码和查阅官方文档来加深理解和掌握',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-05-12 02:29:23',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Welcome To LifeTech's Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CSharp%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">CSharp学习<sup>3</sup></a><a href="/tags/IDE%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 1.05rem;">IDE常用快捷键<sup>2</sup></a><a href="/tags/Rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">Rust基础知识<sup>21</sup></a><a href="/tags/csharp%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">csharp相关学习<sup>5</sup></a><a href="/tags/docker%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">docker学习<sup>1</sup></a><a href="/tags/hexo%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/" style="font-size: 1.05rem;">hexo博客常见命令<sup>1</sup></a><a href="/tags/python%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">python相关学习<sup>4</sup></a><a href="/tags/tauri%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">tauri基础知识<sup>1</sup></a><a href="/tags/xmake%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">xmake学习<sup>3</sup></a><a href="/tags/%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">个人学习<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">前端学习<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 1.05rem;">数据分析<sup>1</sup></a><a href="/tags/%E6%97%A0%E7%BA%BF%E8%B0%83%E8%AF%95/" style="font-size: 1.05rem;">无线调试<sup>1</sup></a><a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">深度学习<sup>1</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" style="font-size: 1.05rem;">系统常用命令<sup>2</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 1.05rem;">系统常用快捷键<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">32</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"><a class="article-meta__tags" href="/tags/csharp%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>csharp相关学习</span></a></span></div></div><h1 class="post-title" itemprop="name headline">csharp基础知识</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-05-11T18:15:53.000Z" title="发表于 2025-05-12 02:15:53">2025-05-12</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-05-11T18:29:23.745Z" title="更新于 2025-05-12 02:29:23">2025-05-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为无锡"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>无锡</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/05/12/csharp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><header><a href="/tags/csharp%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" tabindex="-1" itemprop="url">csharp相关学习</a><h1 id="CrawlerTitle" itemprop="name headline">csharp基础知识</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Jackey Zhou</span><time itemprop="dateCreated datePublished" datetime="2025-05-11T18:15:53.000Z" title="发表于 2025-05-12 02:15:53">2025-05-12</time><time itemprop="dateCreated datePublished" datetime="2025-05-11T18:29:23.745Z" title="更新于 2025-05-12 02:29:23">2025-05-12</time></header><h1 id="C-常用知识和概念详解"><a href="#C-常用知识和概念详解" class="headerlink" title="C# 常用知识和概念详解"></a>C# 常用知识和概念详解</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li><a href="#1-%E7%AE%80%E4%BB%8B">简介</a></li>
<li><a href="#2-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95">基础语法</a><ul>
<li><a href="#hello-world">Hello World</a></li>
<li><a href="#%E6%B3%A8%E9%87%8A">注释</a></li>
<li><a href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E6%95%8F%E6%84%9F">大小写敏感</a></li>
<li><a href="#%E8%AF%AD%E5%8F%A5%E5%92%8C%E5%88%86%E5%8F%B7">语句和分号</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E5%9D%97">代码块</a></li>
</ul>
</li>
<li><a href="#3-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">数据类型</a><ul>
<li><a href="#%E5%80%BC%E7%B1%BB%E5%9E%8B-value-types">值类型 (Value Types)</a></li>
<li><a href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-reference-types">引用类型 (Reference Types)</a></li>
<li><a href="#nullable-%E5%80%BC%E7%B1%BB%E5%9E%8B">Nullable 值类型</a></li>
<li><a href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2">类型转换</a></li>
</ul>
</li>
<li><a href="#4-%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E9%87%8F">变量与常量</a><ul>
<li><a href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96">变量声明与初始化</a></li>
<li><a href="#%E5%B8%B8%E9%87%8F">常量</a></li>
<li><a href="#var-%E5%85%B3%E9%94%AE%E5%AD%97">var 关键字</a></li>
</ul>
</li>
<li><a href="#5-%E8%BF%90%E7%AE%97%E7%AC%A6">运算符</a><ul>
<li><a href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6">算术运算符</a></li>
<li><a href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6">关系运算符</a></li>
<li><a href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6">逻辑运算符</a></li>
<li><a href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6">位运算符</a></li>
<li><a href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6">赋值运算符</a></li>
<li><a href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6">其他运算符</a></li>
</ul>
</li>
<li><a href="#6-%E6%8E%A7%E5%88%B6%E6%B5%81%E8%AF%AD%E5%8F%A5">控制流语句</a><ul>
<li><a href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5-if-else-if-else-switch">条件语句 (if, else if, else, switch)</a></li>
<li><a href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5-for-foreach-while-do-while">循环语句 (for, foreach, while, do-while)</a></li>
<li><a href="#%E8%B7%B3%E8%BD%AC%E8%AF%AD%E5%8F%A5-break-continue-return-goto">跳转语句 (break, continue, return, goto)</a></li>
</ul>
</li>
<li><a href="#7-%E6%96%B9%E6%B3%95-methods">方法 (Methods)</a><ul>
<li><a href="#%E6%96%B9%E6%B3%95%E5%A3%B0%E6%98%8E">方法声明</a></li>
<li><a href="#%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8">方法调用</a></li>
<li><a href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-%E5%80%BC%E4%BC%A0%E9%80%92-%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92-out-%E5%8F%82%E6%95%B0-params-%E5%8F%82%E6%95%B0">参数传递 (值传递, 引用传递, out 参数, params 参数)</a></li>
<li><a href="#%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD">方法重载</a></li>
<li><a href="#%E9%80%92%E5%BD%92%E6%96%B9%E6%B3%95">递归方法</a></li>
<li><a href="#%E6%9C%AC%E5%9C%B0%E5%87%BD%E6%95%B0-local-functions">本地函数 (Local Functions)</a></li>
</ul>
</li>
<li><a href="#8-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B-oop">面向对象编程 (OOP)</a><ul>
<li><a href="#%E7%B1%BB-classes-%E4%B8%8E%E5%AF%B9%E8%B1%A1-objects">类 (Classes) 与对象 (Objects)</a></li>
<li><a href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-constructors">构造函数 (Constructors)</a></li>
<li><a href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0-destructors">析构函数 (Destructors)</a> (较少使用)</li>
<li><a href="#%E5%B0%81%E8%A3%85-encapsulation---%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6">封装 (Encapsulation) - 访问修饰符</a></li>
<li><a href="#%E5%B1%9E%E6%80%A7-properties">属性 (Properties)</a></li>
<li><a href="#%E7%BB%A7%E6%89%BF-inheritance">继承 (Inheritance)</a></li>
<li><a href="#%E5%A4%9A%E6%80%81-polymorphism---virtual-override-new">多态 (Polymorphism) - virtual, override, new</a></li>
<li><a href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB-abstract-classes-%E4%B8%8E%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95">抽象类 (Abstract Classes) 与抽象方法</a></li>
<li><a href="#%E6%8E%A5%E5%8F%A3-interfaces">接口 (Interfaces)</a></li>
<li><a href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98-static-members">静态成员 (Static Members)</a></li>
<li><a href="#%E7%BB%93%E6%9E%84%E4%BD%93-structs">结构体 (Structs)</a></li>
<li><a href="#%E6%9E%9A%E4%B8%BE-enums">枚举 (Enums)</a></li>
</ul>
</li>
<li><a href="#9-%E9%9B%86%E5%90%88-collections">集合 (Collections)</a><ul>
<li><a href="#%E6%95%B0%E7%BB%84-arrays">数组 (Arrays)</a></li>
<li><a href="#listt">List<T></a></li>
<li><a href="#dictionarytkey-tvalue">Dictionary&lt;TKey, TValue&gt;</a></li>
<li><a href="#hashsett">HashSet<T></a></li>
<li><a href="#queuet">Queue<T></a></li>
<li><a href="#stackt">Stack<T></a></li>
</ul>
</li>
<li><a href="#10-linq-language-integrated-query">LINQ (Language Integrated Query)</a><ul>
<li><a href="#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E6%B3%95">查询语法</a></li>
<li><a href="#%E6%96%B9%E6%B3%95%E8%AF%AD%E6%B3%95">方法语法</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%AC%A6-where-select-orderby-groupby-join-%E7%AD%89">常用操作符 (Where, Select, OrderBy, GroupBy, Join 等)</a></li>
</ul>
</li>
<li><a href="#11-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-exception-handling">异常处理 (Exception Handling)</a><ul>
<li><a href="#try-catch-finally">try-catch-finally</a></li>
<li><a href="#%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8-throw">抛出异常 (throw)</a></li>
<li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8">自定义异常</a></li>
</ul>
</li>
<li><a href="#12-%E5%A7%94%E6%89%98-delegates-%E4%B8%8E%E4%BA%8B%E4%BB%B6-events">委托 (Delegates) 与事件 (Events)</a><ul>
<li><a href="#%E5%A7%94%E6%89%98%E7%9A%84%E5%A3%B0%E6%98%8E%E4%B8%8E%E4%BD%BF%E7%94%A8">委托的声明与使用</a></li>
<li><a href="#%E5%A4%9A%E6%92%AD%E5%A7%94%E6%89%98">多播委托</a></li>
<li><a href="#%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%E4%B8%8E-lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F">匿名方法与 Lambda 表达式</a></li>
<li><a href="#%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%A3%B0%E6%98%8E%E4%B8%8E%E4%BD%BF%E7%94%A8">事件的声明与使用</a></li>
</ul>
</li>
<li><a href="#13-%E6%B3%9B%E5%9E%8B-generics">泛型 (Generics)</a><ul>
<li><a href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB">泛型类</a></li>
<li><a href="#%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95">泛型方法</a></li>
<li><a href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F">泛型约束</a></li>
</ul>
</li>
<li><a href="#14-%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B-asynchronous-programming">异步编程 (Asynchronous Programming)</a><ul>
<li><a href="#async-%E5%92%8C-await-%E5%85%B3%E9%94%AE%E5%AD%97">async 和 await 关键字</a></li>
<li><a href="#task-%E5%92%8C-tasktresult">Task 和 Task<TResult></a></li>
</ul>
</li>
<li><a href="#15-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4-namespaces">命名空间 (Namespaces)</a></li>
<li><a href="#16-%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8%E6%8C%87%E4%BB%A4">预处理器指令</a></li>
<li><a href="#17-net-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5">.NET 核心概念</a><ul>
<li><a href="#clr-common-language-runtime">CLR (Common Language Runtime)</a></li>
<li><a href="#cts-common-type-system">CTS (Common Type System)</a></li>
<li><a href="#cls-common-language-specification">CLS (Common Language Specification)</a></li>
<li><a href="#gc-garbage-collection">GC (Garbage Collection)</a></li>
</ul>
</li>
<li><a href="#18-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7">其他常用特性</a><ul>
<li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC-string-interpolation">字符串插值 (String Interpolation)</a></li>
<li><a href="#null-%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6-null-conditional-operators--%E5%92%8C-">Null 条件运算符 (Null-conditional operators) <code>?.</code> 和 <code>?[]</code></a></li>
<li><a href="#null-%E5%90%88%E5%B9%B6%E8%BF%90%E7%AE%97%E7%AC%A6-null-coalescing-operator-">Null 合并运算符 (Null-coalescing operator) <code>??</code></a></li>
<li><a href="#%E5%85%83%E7%BB%84-tuples">元组 (Tuples)</a></li>
<li><a href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D-pattern-matching">模式匹配 (Pattern Matching)</a></li>
<li><a href="#%E8%AE%B0%E5%BD%95-records">记录 (Records)</a> (C# 9+)</li>
<li><a href="#%E9%A1%B6%E7%BA%A7%E8%AF%AD%E5%8F%A5-top-level-statements">顶级语句 (Top-level statements)</a> (C# 9+)</li>
</ul>
</li>
</ol>
<hr>
<h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><p>C# (发音为 “C Sharp”) 是一种现代的、面向对象的、类型安全的编程语言。它由微软开发，并在 .NET 平台上运行。C# 旨在构建各种应用程序，包括 Web 应用、桌面应用、移动应用、游戏、云服务等。</p>
<h2 id="2-基础语法"><a href="#2-基础语法" class="headerlink" title="2. 基础语法"></a>2. 基础语法</h2><h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><p>一个最简单的 C# 程序：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">HelloWorldApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>using System;</code>：引入 <code>System</code> 命名空间，其中包含 <code>Console</code> 类。</li>
<li><code>namespace HelloWorldApp</code>：声明一个命名空间，用于组织代码。</li>
<li><code>class Program</code>：声明一个类。</li>
<li><code>static void Main(string[] args)</code>：程序的入口点。<code>Main</code> 方法必须是静态的 (<code>static</code>)。</li>
</ul>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><ul>
<li>单行注释： <code>// 这是单行注释</code></li>
<li>多行注释： <code>/* 这是多行注释 */</code></li>
<li>XML 文档注释： <code>/// &lt;summary&gt;这是 XML 文档注释&lt;/summary&gt;</code></li>
</ul>
<h3 id="大小写敏感"><a href="#大小写敏感" class="headerlink" title="大小写敏感"></a>大小写敏感</h3><p>C# 是大小写敏感的。例如，<code>myVariable</code> 和 <code>MyVariable</code> 是两个不同的变量。</p>
<h3 id="语句和分号"><a href="#语句和分号" class="headerlink" title="语句和分号"></a>语句和分号</h3><p>C# 中的每个语句都必须以分号 (<code>;</code>) 结尾。</p>
<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><p>代码块是用花括号 <code>&#123;&#125;</code> 包围的一组语句，用于定义类、方法、命名空间、控制流结构等的范围。</p>
<h2 id="3-数据类型"><a href="#3-数据类型" class="headerlink" title="3. 数据类型"></a>3. 数据类型</h2><p>C# 中的数据类型分为值类型和引用类型。</p>
<h3 id="值类型-Value-Types"><a href="#值类型-Value-Types" class="headerlink" title="值类型 (Value Types)"></a>值类型 (Value Types)</h3><p>直接存储数据值，通常在栈 (Stack) 上分配。</p>
<ul>
<li><strong>整型</strong>: <code>sbyte</code>, <code>byte</code>, <code>short</code>, <code>ushort</code>, <code>int</code>, <code>uint</code>, <code>long</code>, <code>ulong</code>, <code>char</code></li>
<li><strong>浮点型</strong>: <code>float</code>, <code>double</code></li>
<li><strong>高精度小数</strong>: <code>decimal</code> (适用于金融计算)</li>
<li><strong>布尔型</strong>: <code>bool</code> (true&#x2F;false)</li>
<li><strong>结构体 (Structs)</strong>: 用户自定义的值类型。</li>
<li><strong>枚举 (Enums)</strong>: 用户自定义的命名常量集合。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> age = <span class="number">30</span>;</span><br><span class="line"><span class="built_in">double</span> pi = <span class="number">3.14159</span>;</span><br><span class="line"><span class="built_in">bool</span> isActive = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">char</span> initial = <span class="string">&#x27;J&#x27;</span>;</span><br><span class="line"><span class="built_in">decimal</span> salary = <span class="number">50000.50</span>m; <span class="comment">// m 后缀表示 decimal</span></span><br></pre></td></tr></table></figure>

<h3 id="引用类型-Reference-Types"><a href="#引用类型-Reference-Types" class="headerlink" title="引用类型 (Reference Types)"></a>引用类型 (Reference Types)</h3><p>存储对数据实际位置的引用 (内存地址)，数据本身在堆 (Heap) 上分配。</p>
<ul>
<li><strong>字符串 (String)</strong>: <code>string</code></li>
<li><strong>类 (Classes)</strong>: 所有用户定义的类，以及 .NET 提供的类 (如 <code>object</code>, <code>Console</code>)。</li>
<li><strong>接口 (Interfaces)</strong></li>
<li><strong>委托 (Delegates)</strong></li>
<li><strong>数组 (Arrays)</strong></li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> name = <span class="string">&quot;John Doe&quot;</span>;</span><br><span class="line"><span class="built_in">object</span> obj = <span class="keyword">new</span> <span class="built_in">object</span>();</span><br><span class="line"><span class="built_in">int</span>[] numbers = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">5</span>];</span><br></pre></td></tr></table></figure>

<p><code>string</code> 类型比较特殊，虽然是引用类型，但其行为在某些方面（如比较和赋值）表现得像值类型（具有不变性）。</p>
<h3 id="Nullable-值类型"><a href="#Nullable-值类型" class="headerlink" title="Nullable 值类型"></a>Nullable 值类型</h3><p>值类型默认不能为 <code>null</code>。如果需要让值类型能够表示 <code>null</code>，可以使用 <code>Nullable&lt;T&gt;</code> 或 <code>T?</code>。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>? nullableInt = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">bool</span>? nullableBool = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (nullableInt.HasValue)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(nullableInt.Value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><ul>
<li><p><strong>隐式转换</strong>: 安全的转换，不会丢失数据。从小范围类型到大范围类型。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> myInt = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">long</span> myLong = myInt; <span class="comment">// 隐式转换</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>显式转换 (强制转换)</strong>: 可能导致数据丢失或引发异常。需要使用转换操作符 <code>()</code>。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">double</span> myDouble = <span class="number">123.45</span>;</span><br><span class="line"><span class="built_in">int</span> myInt = (<span class="built_in">int</span>)myDouble; <span class="comment">// 显式转换，小数部分丢失</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>Convert 类</strong>: <code>System.Convert</code> 类提供了多种转换方法。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> numStr = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="built_in">int</span> num = Convert.ToInt32(numStr);</span><br></pre></td></tr></table></figure></li>
<li><p><strong>Parse 和 TryParse 方法</strong>: 多数基本数据类型都有 <code>Parse</code> 和 <code>TryParse</code> 方法用于将字符串转换为该类型。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> ageStr = <span class="string">&quot;30&quot;</span>;</span><br><span class="line"><span class="built_in">int</span> age = <span class="built_in">int</span>.Parse(ageStr);</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> heightStr = <span class="string">&quot;180.5&quot;</span>;</span><br><span class="line"><span class="built_in">double</span> height;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">double</span>.TryParse(heightStr, <span class="keyword">out</span> height))</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;Height: <span class="subst">&#123;height&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;Invalid height string&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="4-变量与常量"><a href="#4-变量与常量" class="headerlink" title="4. 变量与常量"></a>4. 变量与常量</h2><h3 id="变量声明与初始化"><a href="#变量声明与初始化" class="headerlink" title="变量声明与初始化"></a>变量声明与初始化</h3><p>声明：<code>数据类型 变量名;</code><br>初始化：<code>变量名 = 值;</code><br>声明并初始化：<code>数据类型 变量名 = 值;</code></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> score;</span><br><span class="line">score = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> playerName = <span class="string">&quot;PlayerOne&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><p>使用 <code>const</code> 关键字声明，其值在编译时确定且不能更改。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">double</span> PI = <span class="number">3.14159</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">string</span> ProductName = <span class="string">&quot;AwesomeProduct&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>使用 <code>readonly</code> 关键字声明的字段，其值可以在声明时或构造函数中初始化，之后不能更改（运行时常量）。</p>
<h3 id="var-关键字"><a href="#var-关键字" class="headerlink" title="var 关键字"></a>var 关键字</h3><p><code>var</code> 关键字用于类型推断。编译器会根据初始化表达式自动推断变量的类型。<code>var</code> 声明的变量仍然是强类型的。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">10</span>; <span class="comment">// 编译器推断为 int</span></span><br><span class="line"><span class="keyword">var</span> message = <span class="string">&quot;Hello&quot;</span>; <span class="comment">// 编译器推断为 string</span></span><br><span class="line"><span class="keyword">var</span> numbers = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;(); <span class="comment">// 编译器推断为 List&lt;int&gt;</span></span><br><span class="line"><span class="comment">// var x; // 错误，必须初始化</span></span><br></pre></td></tr></table></figure>

<h2 id="5-运算符"><a href="#5-运算符" class="headerlink" title="5. 运算符"></a>5. 运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p><code>+</code> (加), <code>-</code> (减), <code>*</code> (乘), <code>/</code> (除), <code>%</code> (取模), <code>++</code> (自增), <code>--</code> (自减)</p>
<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p><code>==</code> (等于), <code>!=</code> (不等于), <code>&gt;</code> (大于), <code>&lt;</code> (小于), <code>&gt;=</code> (大于等于), <code>&lt;=</code> (小于等于)<br>返回 <code>bool</code> 值。</p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p><code>&amp;&amp;</code> (逻辑与), <code>||</code> (逻辑或), <code>!</code> (逻辑非)<br>用于连接或反转布尔表达式。</p>
<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p><code>&amp;</code> (按位与), <code>|</code> (按位或), <code>^</code> (按位异或), <code>~</code> (按位取反), <code>&lt;&lt;</code> (左移), <code>&gt;&gt;</code> (右移)</p>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p><code>=</code> (赋值), <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code>, <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code></p>
<h3 id="其他运算符"><a href="#其他运算符" class="headerlink" title="其他运算符"></a>其他运算符</h3><ul>
<li><code>sizeof()</code>: 返回值类型的大小 (字节)。</li>
<li><code>typeof()</code>: 返回类型的 <code>System.Type</code> 对象。</li>
<li><code>is</code>: 检查对象是否兼容于指定类型。</li>
<li><code>as</code>: 尝试将对象转换为指定类型，如果转换失败则返回 <code>null</code> (不抛出异常)。</li>
<li><code>??</code>: Null 合并运算符。<code>a ?? b</code> 表示如果 <code>a</code> 不为 <code>null</code>，则结果为 <code>a</code>，否则为 <code>b</code>。</li>
<li><code>?.</code> 和 <code>?[]</code>: Null 条件运算符。</li>
<li><code>=&gt;</code>: Lambda 运算符。</li>
</ul>
<h2 id="6-控制流语句"><a href="#6-控制流语句" class="headerlink" title="6. 控制流语句"></a>6. 控制流语句</h2><h3 id="条件语句-if-else-if-else-switch"><a href="#条件语句-if-else-if-else-switch" class="headerlink" title="条件语句 (if, else if, else, switch)"></a>条件语句 (if, else if, else, switch)</h3><ul>
<li><strong>if-else if-else</strong>:<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> number = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span> (number &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;Positive&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (number &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;Negative&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;Zero&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>switch</strong>:<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">char</span> grade = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"><span class="keyword">switch</span> (grade)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Excellent&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Good&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Average&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="literal">default</span>:</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Fail&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
C# 7.0 及更高版本支持模式匹配的 <code>switch</code> 语句。</li>
</ul>
<h3 id="循环语句-for-foreach-while-do-while"><a href="#循环语句-for-foreach-while-do-while" class="headerlink" title="循环语句 (for, foreach, while, do-while)"></a>循环语句 (for, foreach, while, do-while)</h3><ul>
<li><strong>for 循环</strong>:<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>foreach 循环</strong>: 用于遍历集合。<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] numbers = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="built_in">int</span> num <span class="keyword">in</span> numbers)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>while 循环</strong>:<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (count &lt; <span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;Count: <span class="subst">&#123;count&#125;</span>&quot;</span>);</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>do-while 循环</strong>: 至少执行一次。<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;k = <span class="subst">&#123;k&#125;</span>&quot;</span>);</span><br><span class="line">    k++;</span><br><span class="line">&#125; <span class="keyword">while</span> (k &lt; <span class="number">0</span>); <span class="comment">// 循环体至少执行一次</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="跳转语句-break-continue-return-goto"><a href="#跳转语句-break-continue-return-goto" class="headerlink" title="跳转语句 (break, continue, return, goto)"></a>跳转语句 (break, continue, return, goto)</h3><ul>
<li><code>break</code>: 立即终止最内层的循环或 <code>switch</code> 语句。</li>
<li><code>continue</code>: 跳过当前循环的剩余部分，开始下一次迭代。</li>
<li><code>return</code>: 从方法中返回值并退出方法。</li>
<li><code>goto</code>: 跳转到带标签的语句 (不推荐大量使用，可能导致代码难以理解)。</li>
</ul>
<h2 id="7-方法-Methods"><a href="#7-方法-Methods" class="headerlink" title="7. 方法 (Methods)"></a>7. 方法 (Methods)</h2><p>方法是包含一系列语句的代码块，用于执行特定任务。</p>
<h3 id="方法声明"><a href="#方法声明" class="headerlink" title="方法声明"></a>方法声明</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;访问修饰符&gt; &lt;可选修饰符&gt; &lt;返回类型&gt; &lt;方法名&gt;(&lt;参数列表&gt;)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 方法体</span></span><br><span class="line">    <span class="keyword">return</span> &lt;返回值&gt;; <span class="comment">// 如果返回类型不是 void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisplayMessage</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> sum = Add(<span class="number">5</span>, <span class="number">3</span>); <span class="comment">// 调用 Add 方法</span></span><br><span class="line">DisplayMessage(<span class="string">&quot;Hello from method!&quot;</span>); <span class="comment">// 调用 DisplayMessage 方法</span></span><br></pre></td></tr></table></figure>

<h3 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h3><ul>
<li><strong>值传递 (Pass by Value)</strong>: 默认方式。传递参数值的副本。方法内对参数的修改不影响原始变量。</li>
<li><strong>引用传递 (Pass by Reference)</strong>: 使用 <code>ref</code> 关键字。传递参数的引用。方法内对参数的修改会影响原始变量。<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ModifyValue</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">int</span> x</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    x = x * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">int</span> num = <span class="number">5</span>;</span><br><span class="line">ModifyValue(<span class="keyword">ref</span> num); <span class="comment">// num 现在是 10</span></span><br></pre></td></tr></table></figure></li>
<li><strong>out 参数</strong>: 使用 <code>out</code> 关键字。类似于 <code>ref</code>，但 <code>out</code> 参数在传入方法前不必初始化，且必须在方法内部赋值。常用于方法需要返回多个值的场景。<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">bool</span> <span class="title">TryParseInt</span>(<span class="params"><span class="built_in">string</span> s, <span class="keyword">out</span> <span class="built_in">int</span> result</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        result = <span class="built_in">int</span>.Parse(s);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span></span><br><span class="line">    &#123;</span><br><span class="line">        result = <span class="number">0</span>; <span class="comment">// 必须赋值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">int</span> parsedValue;</span><br><span class="line"><span class="keyword">if</span> (TryParseInt(<span class="string">&quot;123&quot;</span>, <span class="keyword">out</span> parsedValue))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// use parsedValue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>params 参数</strong>: 使用 <code>params</code> 关键字。允许方法接受可变数量的参数。<code>params</code> 参数必须是方法参数列表中的最后一个，并且其类型必须是一维数组。<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">SumNumbers</span>(<span class="params"><span class="keyword">params</span> <span class="built_in">int</span>[] numbers</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">int</span> num <span class="keyword">in</span> numbers)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">int</span> total = SumNumbers(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>); <span class="comment">// 传递多个参数</span></span><br><span class="line"><span class="built_in">int</span> total2 = SumNumbers(<span class="keyword">new</span> <span class="built_in">int</span>[] &#123;<span class="number">10</span>, <span class="number">20</span>&#125;); <span class="comment">// 传递数组</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="方法重载-Method-Overloading"><a href="#方法重载-Method-Overloading" class="headerlink" title="方法重载 (Method Overloading)"></a>方法重载 (Method Overloading)</h3><p>在同一个类中可以有多个同名方法，但它们的参数列表必须不同 (参数数量、类型或顺序不同)。返回类型不同不足以构成重载。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span> &#123; <span class="keyword">return</span> a + b; &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">Add</span>(<span class="params"><span class="built_in">double</span> a, <span class="built_in">double</span> b</span>)</span> &#123; <span class="keyword">return</span> a + b; &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b, <span class="built_in">int</span> c</span>)</span> &#123; <span class="keyword">return</span> a + b + c; &#125;</span><br></pre></td></tr></table></figure>

<h3 id="递归方法"><a href="#递归方法" class="headerlink" title="递归方法"></a>递归方法</h3><p>方法调用自身。需要有明确的终止条件以避免无限递归。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">long</span> <span class="title">Factorial</span>(<span class="params"><span class="built_in">int</span> n</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// 终止条件</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> n * Factorial(n - <span class="number">1</span>); <span class="comment">// 递归调用</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="本地函数-Local-Functions-C-7-0"><a href="#本地函数-Local-Functions-C-7-0" class="headerlink" title="本地函数 (Local Functions) (C# 7.0+)"></a>本地函数 (Local Functions) (C# 7.0+)</h3><p>在方法内部定义的方法。只能在包含它们的方法内部访问。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ProcessData</span>(<span class="params">IEnumerable&lt;<span class="built_in">int</span>&gt; data</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">int</span> <span class="title">GetSquare</span>(<span class="params"><span class="built_in">int</span> number</span>) <span class="comment">// 本地函数</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> number * number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> data)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(GetSquare(item));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-面向对象编程-OOP"><a href="#8-面向对象编程-OOP" class="headerlink" title="8. 面向对象编程 (OOP)"></a>8. 面向对象编程 (OOP)</h2><p>C# 是一种完全面向对象的语言。OOP 的核心概念包括：</p>
<h3 id="类-Classes-与对象-Objects"><a href="#类-Classes-与对象-Objects" class="headerlink" title="类 (Classes) 与对象 (Objects)"></a>类 (Classes) 与对象 (Objects)</h3><ul>
<li><strong>类 (Class)</strong>: 对象的蓝图或模板，定义了对象的属性 (数据成员) 和行为 (方法成员)。</li>
<li><strong>对象 (Object)</strong>: 类的实例。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类定义</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Dog</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 字段 (数据成员)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法 (行为成员)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Bark</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;Name&#125;</span> says Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建对象 (实例化)</span></span><br><span class="line">Dog myDog = <span class="keyword">new</span> Dog();</span><br><span class="line">myDog.Name = <span class="string">&quot;Buddy&quot;</span>;</span><br><span class="line">myDog.Age = <span class="number">3</span>;</span><br><span class="line">myDog.Bark(); <span class="comment">// 输出: Buddy says Woof!</span></span><br></pre></td></tr></table></figure>

<h3 id="构造函数-Constructors"><a href="#构造函数-Constructors" class="headerlink" title="构造函数 (Constructors)"></a>构造函数 (Constructors)</h3><p>特殊的方法，用于在创建对象时初始化对象。构造函数名与类名相同，没有返回类型。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Car</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Model;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Color;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 默认构造函数 (如果未显式定义，编译器会提供一个无参的公共构造函数)</span></span><br><span class="line">    <span class="comment">// public Car() &#123; &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Car</span>(<span class="params"><span class="built_in">string</span> model, <span class="built_in">string</span> color</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Model = model;</span><br><span class="line">        Color = color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Car myCar = <span class="keyword">new</span> Car(<span class="string">&quot;Tesla Model S&quot;</span>, <span class="string">&quot;Red&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>可以使用 <code>this</code> 关键字调用同一个类中的其他构造函数（构造函数链）。</p>
<h3 id="析构函数-Destructors"><a href="#析构函数-Destructors" class="headerlink" title="析构函数 (Destructors)"></a>析构函数 (Destructors)</h3><p>特殊的方法，用于在对象被垃圾回收器回收之前执行清理操作。析构函数名以 <code>~</code> 开头，后跟类名，无参数，无返回类型。在 C# 中不常手动实现，因为垃圾回收器会自动处理内存管理。主要用于释放非托管资源。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不常用，仅为示例</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FileManager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    ~FileManager() <span class="comment">// 析构函数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 清理非托管资源，如文件句柄</span></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;FileManager finalized.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>推荐使用 <code>IDisposable</code> 接口和 <code>using</code> 语句来管理非托管资源。</p>
<h3 id="封装-Encapsulation-访问修饰符"><a href="#封装-Encapsulation-访问修饰符" class="headerlink" title="封装 (Encapsulation) - 访问修饰符"></a>封装 (Encapsulation) - 访问修饰符</h3><p>封装是将数据 (属性) 和操作数据的方法捆绑在一起，并对外部隐藏对象的内部实现细节。通过访问修饰符控制成员的可见性：</p>
<ul>
<li><code>public</code>: 任何地方都可以访问。</li>
<li><code>private</code>: 只能在声明它的类内部访问 (默认)。</li>
<li><code>protected</code>: 只能在声明它的类及其派生类中访问。</li>
<li><code>internal</code>: 只能在同一个程序集 (assembly) 中访问。</li>
<li><code>protected internal</code>: 只能在同一个程序集中的声明类、派生类，或者不同程序集中的派生类访问。</li>
<li><code>private protected</code>: (C# 7.2+) 只能在同一个程序集中，并且在声明它的类及其派生类中访问。</li>
</ul>
<h3 id="属性-Properties"><a href="#属性-Properties" class="headerlink" title="属性 (Properties)"></a>属性 (Properties)</h3><p>属性提供了一种灵活的机制来读取、写入或计算私有字段的值。它们使用 <code>get</code> 和 <code>set</code> 访问器。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> _name; <span class="comment">// 私有字段 (backing field)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name <span class="comment">// 公共属性</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> _name; &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; _name = <span class="keyword">value</span>; &#125; <span class="comment">// value 是一个隐式参数，代表赋给属性的值</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自动属性 (编译器会自动生成私有备份字段)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Age &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//只读属性 (只有 get 访问器)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Id &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化器 (C# 6.0+)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Country &#123; <span class="keyword">get</span>; &#125; = <span class="string">&quot;USA&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 表达式主体属性 (C# 6.0+)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> FullName =&gt; <span class="string">$&quot;<span class="subst">&#123;_name&#125;</span> (Age: <span class="subst">&#123;Age&#125;</span>)&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"><span class="built_in">string</span> initialId</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Id = initialId; <span class="comment">// 只读属性可以在构造函数中赋值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="继承-Inheritance"><a href="#继承-Inheritance" class="headerlink" title="继承 (Inheritance)"></a>继承 (Inheritance)</h3><p>允许一个类 (派生类&#x2F;子类) 继承另一个类 (基类&#x2F;父类) 的属性和方法。使用 <code>:</code> 表示继承。C# 不支持多重类继承，但支持多重接口继承。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Eat</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;Name&#125;</span> is eating.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 派生类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">Animal</span> <span class="comment">// Dog 继承自 Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Bark</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;Name&#125;</span> says Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog myDog = <span class="keyword">new</span> Dog();</span><br><span class="line">myDog.Name = <span class="string">&quot;Rex&quot;</span>;</span><br><span class="line">myDog.Eat();  <span class="comment">// 继承自 Animal</span></span><br><span class="line">myDog.Bark(); <span class="comment">// Dog 自己的方法</span></span><br></pre></td></tr></table></figure>

<p><code>base</code> 关键字用于从派生类中访问基类的成员（例如调用基类构造函数或方法）。</p>
<h3 id="多态-Polymorphism-virtual-override-new"><a href="#多态-Polymorphism-virtual-override-new" class="headerlink" title="多态 (Polymorphism) - virtual, override, new"></a>多态 (Polymorphism) - virtual, override, new</h3><p>多态意味着 “多种形态”，允许使用基类类型的引用来引用派生类对象，并调用派生类中重写的方法。</p>
<ul>
<li><code>virtual</code>: 在基类中声明方法为虚拟方法，表示该方法可以在派生类中被重写 (override)。</li>
<li><code>override</code>: 在派生类中重写基类的虚拟方法。</li>
<li><code>new</code>: 在派生类中隐藏基类的同名成员 (不推荐，除非明确知道其意图)。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Shape</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Draw</span>() <span class="comment">// 虚拟方法</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Drawing a generic shape.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Circle</span> : <span class="title">Shape</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Draw</span>() <span class="comment">// 重写方法</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Drawing a circle.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Square</span> : <span class="title">Shape</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Draw</span>() <span class="comment">// 重写方法</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Drawing a square.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Shape[] shapes = <span class="keyword">new</span> Shape[<span class="number">2</span>];</span><br><span class="line">shapes[<span class="number">0</span>] = <span class="keyword">new</span> Circle();</span><br><span class="line">shapes[<span class="number">1</span>] = <span class="keyword">new</span> Square();</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (Shape s <span class="keyword">in</span> shapes)</span><br><span class="line">&#123;</span><br><span class="line">    s.Draw(); <span class="comment">// 调用的是实际对象类型（Circle 或 Square）的 Draw 方法</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出:</span></span><br><span class="line"><span class="comment">// Drawing a circle.</span></span><br><span class="line"><span class="comment">// Drawing a square.</span></span><br></pre></td></tr></table></figure>

<h3 id="抽象类-Abstract-Classes-与抽象方法"><a href="#抽象类-Abstract-Classes-与抽象方法" class="headerlink" title="抽象类 (Abstract Classes) 与抽象方法"></a>抽象类 (Abstract Classes) 与抽象方法</h3><ul>
<li><strong>抽象类 (<code>abstract class</code>)</strong>: 不能被实例化的类，通常作为其他类的基类。可以包含抽象成员和非抽象成员。</li>
<li><strong>抽象方法 (<code>abstract method</code>)</strong>: 在抽象类中声明但没有实现的方法。派生类必须重写 (override) 所有的抽象方法，除非派生类本身也是抽象类。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Vehicle</span> <span class="comment">// 抽象类</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> VIN &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">StartEngine</span>()</span>; <span class="comment">// 抽象方法，没有实现</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StopEngine</span>() <span class="comment">// 具体方法</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Engine stopped.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Car</span> : <span class="title">Vehicle</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">StartEngine</span>() <span class="comment">// 必须实现抽象方法</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Car engine started with a key.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口-Interfaces"><a href="#接口-Interfaces" class="headerlink" title="接口 (Interfaces)"></a>接口 (Interfaces)</h3><p>接口定义了一个契约，规定了实现该接口的类或结构体必须提供哪些成员 (方法、属性、事件、索引器)。接口成员默认是 <code>public</code> 和 <code>abstract</code> 的。类可以实现多个接口。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IDrivable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Drive</span>()</span>; <span class="comment">// 接口方法 (隐式 public 和 abstract)</span></span><br><span class="line">    <span class="built_in">int</span> Speed &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; <span class="comment">// 接口属性</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ILoggable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Truck</span> : <span class="title">IDrivable</span>, <span class="title">ILoggable</span> <span class="comment">// 实现多个接口</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Speed &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Drive</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Truck is driving at <span class="subst">&#123;Speed&#125;</span> mph.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;LOG: <span class="subst">&#123;message&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从 C# 8.0 开始，接口可以包含默认实现的方法。</p>
<h3 id="静态成员-Static-Members"><a href="#静态成员-Static-Members" class="headerlink" title="静态成员 (Static Members)"></a>静态成员 (Static Members)</h3><p>静态成员属于类本身，而不是类的任何特定实例。使用类名直接访问。</p>
<ul>
<li><strong>静态字段&#x2F;属性</strong>: 所有实例共享同一个静态字段&#x2F;属性的值。</li>
<li><strong>静态方法</strong>: 不需要创建类的实例即可调用。不能访问非静态成员 (实例成员)。</li>
<li><strong>静态构造函数</strong>: 用于初始化类的静态成员，在第一次访问类的静态成员或创建类的第一个实例之前自动调用，且只调用一次。</li>
<li><strong>静态类 (<code>static class</code>)</strong>: 只能包含静态成员，不能被实例化或继承。例如 <code>System.Math</code>, <code>System.Console</code>。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MathHelper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">double</span> PI = <span class="number">3.14159</span>; <span class="comment">// 静态字段</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>) <span class="comment">// 静态方法</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">double</span> circleArea = MathHelper.PI * radius * radius;</span><br><span class="line"><span class="built_in">int</span> sum = MathHelper.Add(<span class="number">10</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<h3 id="结构体-Structs"><a href="#结构体-Structs" class="headerlink" title="结构体 (Structs)"></a>结构体 (Structs)</h3><p>结构体是值类型，通常用于表示轻量级对象。与类的主要区别：</p>
<ul>
<li>结构体是值类型，类是引用类型。</li>
<li>结构体不支持继承 (但可以实现接口)。所有结构体隐式继承自 <code>System.ValueType</code>。</li>
<li>结构体不能有用户定义的无参构造函数 (除非是 C# 10.0+ 且显式声明)。</li>
<li>结构体实例可以直接在栈上分配 (如果不是大型结构体或数组元素)，效率较高。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> Point</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> X;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Y;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span>(<span class="params"><span class="built_in">int</span> x, <span class="built_in">int</span> y</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        X = x;</span><br><span class="line">        Y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Display</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;(<span class="subst">&#123;X&#125;</span>, <span class="subst">&#123;Y&#125;</span>)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Point p1 = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// 调用构造函数</span></span><br><span class="line">Point p2; <span class="comment">// 也可以不使用 new，但字段需要在使用前赋值</span></span><br><span class="line">p2.X = <span class="number">5</span>;</span><br><span class="line">p2.Y = <span class="number">15</span>;</span><br><span class="line">p1.Display();</span><br></pre></td></tr></table></figure>

<h3 id="枚举-Enums"><a href="#枚举-Enums" class="headerlink" title="枚举 (Enums)"></a>枚举 (Enums)</h3><p>枚举是一种值类型，用于定义一组命名的整数常量。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> DayOfWeek</span><br><span class="line">&#123;</span><br><span class="line">    Sunday,    <span class="comment">// 0</span></span><br><span class="line">    Monday,    <span class="comment">// 1</span></span><br><span class="line">    Tuesday,   <span class="comment">// 2</span></span><br><span class="line">    Wednesday, <span class="comment">// 3</span></span><br><span class="line">    Thursday,  <span class="comment">// 4</span></span><br><span class="line">    Friday,    <span class="comment">// 5</span></span><br><span class="line">    Saturday   <span class="comment">// 6</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> ErrorCode : <span class="built_in">ushort</span> <span class="comment">// 可以指定底层类型</span></span><br><span class="line">&#123;</span><br><span class="line">    None = <span class="number">0</span>,</span><br><span class="line">    FileNotFound = <span class="number">101</span>,</span><br><span class="line">    AccessDenied = <span class="number">202</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DayOfWeek today = DayOfWeek.Monday;</span><br><span class="line">Console.WriteLine(today); <span class="comment">// 输出: Monday</span></span><br><span class="line">Console.WriteLine((<span class="built_in">int</span>)today); <span class="comment">// 输出: 1</span></span><br></pre></td></tr></table></figure>

<h2 id="9-集合-Collections"><a href="#9-集合-Collections" class="headerlink" title="9. 集合 (Collections)"></a>9. 集合 (Collections)</h2><p><code>System.Collections</code> 和 <code>System.Collections.Generic</code> 命名空间提供了多种集合类。泛型集合 (<code>System.Collections.Generic</code>) 是类型安全的，推荐使用。</p>
<h3 id="数组-Arrays"><a href="#数组-Arrays" class="headerlink" title="数组 (Arrays)"></a>数组 (Arrays)</h3><p>固定大小的、相同类型元素的集合。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一维数组</span></span><br><span class="line"><span class="built_in">int</span>[] numbers = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">5</span>]; <span class="comment">// 声明并初始化大小</span></span><br><span class="line">numbers[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">numbers[<span class="number">1</span>] = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span>[] names = &#123; <span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span> &#125;; <span class="comment">// 声明并初始化元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 二维数组 (矩形数组)</span></span><br><span class="line"><span class="built_in">int</span>[,] matrix = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">matrix[<span class="number">0</span>, <span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 交错数组 (数组的数组)</span></span><br><span class="line"><span class="built_in">int</span>[][] jaggedArray = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">3</span>][];</span><br><span class="line">jaggedArray[<span class="number">0</span>] = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">1</span>, <span class="number">2</span> &#125;;</span><br><span class="line">jaggedArray[<span class="number">1</span>] = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line">jaggedArray[<span class="number">2</span>] = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">6</span> &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="List"><a href="#List" class="headerlink" title="List&lt;T&gt;"></a>List&lt;T&gt;</h3><p>动态大小的列表，可以方便地添加、删除、查找元素。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">List&lt;<span class="built_in">string</span>&gt; fruits = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">fruits.Add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">fruits.Add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">fruits.Add(<span class="string">&quot;Orange&quot;</span>);</span><br><span class="line"></span><br><span class="line">Console.WriteLine(fruits[<span class="number">0</span>]); <span class="comment">// Apple</span></span><br><span class="line">fruits.Remove(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="built_in">string</span> fruit <span class="keyword">in</span> fruits)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(fruit);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary&lt;TKey, TValue&gt;"></a>Dictionary&lt;TKey, TValue&gt;</h3><p>键值对的集合，通过键快速查找值。键必须是唯一的。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt; studentScores = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt;();</span><br><span class="line">studentScores.Add(<span class="string">&quot;Alice&quot;</span>, <span class="number">95</span>);</span><br><span class="line">studentScores[<span class="string">&quot;Bob&quot;</span>] = <span class="number">88</span>; <span class="comment">// 也可以这样添加或更新</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (studentScores.ContainsKey(<span class="string">&quot;Alice&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;Alice&#x27;s score: <span class="subst">&#123;studentScores[<span class="string">&quot;Alice&quot;</span>]&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt; entry <span class="keyword">in</span> studentScores)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;entry.Key&#125;</span>: <span class="subst">&#123;entry.Value&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet&lt;T&gt;"></a>HashSet&lt;T&gt;</h3><p>不包含重复元素的无序集合。提供高效的集合运算 (并集、交集、差集)。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HashSet&lt;<span class="built_in">int</span>&gt; uniqueNumbers = <span class="keyword">new</span> HashSet&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">uniqueNumbers.Add(<span class="number">1</span>);</span><br><span class="line">uniqueNumbers.Add(<span class="number">2</span>);</span><br><span class="line">uniqueNumbers.Add(<span class="number">1</span>); <span class="comment">// 重复元素不会被添加</span></span><br><span class="line"></span><br><span class="line">Console.WriteLine(uniqueNumbers.Count); <span class="comment">// 输出: 2</span></span><br></pre></td></tr></table></figure>

<h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue&lt;T&gt;"></a>Queue&lt;T&gt;</h3><p>先进先出 (FIFO) 队列。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;<span class="built_in">string</span>&gt; tasks = <span class="keyword">new</span> Queue&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">tasks.Enqueue(<span class="string">&quot;Task 1&quot;</span>); <span class="comment">// 入队</span></span><br><span class="line">tasks.Enqueue(<span class="string">&quot;Task 2&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> currentTask = tasks.Dequeue(); <span class="comment">// 出队: &quot;Task 1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Stack"><a href="#Stack" class="headerlink" title="Stack&lt;T&gt;"></a>Stack&lt;T&gt;</h3><p>后进先出 (LIFO) 栈。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stack&lt;<span class="built_in">string</span>&gt; history = <span class="keyword">new</span> Stack&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">history.Push(<span class="string">&quot;Page 1&quot;</span>); <span class="comment">// 入栈</span></span><br><span class="line">history.Push(<span class="string">&quot;Page 2&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> currentPage = history.Pop(); <span class="comment">// 出栈: &quot;Page 2&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="10-LINQ-Language-Integrated-Query"><a href="#10-LINQ-Language-Integrated-Query" class="headerlink" title="10. LINQ (Language Integrated Query)"></a>10. LINQ (Language Integrated Query)</h2><p>LINQ 提供了在 C# 中直接编写查询的功能，可以查询各种数据源 (对象集合、数据库、XML 等)。</p>
<h3 id="查询语法"><a href="#查询语法" class="headerlink" title="查询语法"></a>查询语法</h3><p>类似于 SQL 的声明式语法。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">List&lt;<span class="built_in">int</span>&gt; numbers = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt; &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> evenNumbersQuery = <span class="keyword">from</span> num <span class="keyword">in</span> numbers</span><br><span class="line">                       <span class="keyword">where</span> num % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line">                       <span class="keyword">orderby</span> num <span class="keyword">descending</span></span><br><span class="line">                       <span class="keyword">select</span> num * <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> n <span class="keyword">in</span> evenNumbersQuery)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(n); <span class="comment">// 100, 80, 60, 40, 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方法语法"><a href="#方法语法" class="headerlink" title="方法语法"></a>方法语法</h3><p>使用扩展方法和 Lambda 表达式。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;<span class="built_in">int</span>&gt; numbers = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt; &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> evenNumbersMethod = numbers.Where(num =&gt; num % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                               .OrderByDescending(num =&gt; num)</span><br><span class="line">                               .Select(num =&gt; num * <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> n <span class="keyword">in</span> evenNumbersMethod)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(n); <span class="comment">// 100, 80, 60, 40, 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>两种语法在功能上是等效的，可以互相转换。</p>
<h3 id="常用操作符-Where-Select-OrderBy-GroupBy-Join-等"><a href="#常用操作符-Where-Select-OrderBy-GroupBy-Join-等" class="headerlink" title="常用操作符 (Where, Select, OrderBy, GroupBy, Join 等)"></a>常用操作符 (Where, Select, OrderBy, GroupBy, Join 等)</h3><ul>
<li><code>Where</code>: 过滤序列。</li>
<li><code>Select</code>: 投影序列中的每个元素到新形式。</li>
<li><code>OrderBy</code> &#x2F; <code>OrderByDescending</code>: 排序。</li>
<li><code>ThenBy</code> &#x2F; <code>ThenByDescending</code>: 次级排序。</li>
<li><code>GroupBy</code>: 分组。</li>
<li><code>Join</code>: 连接两个序列。</li>
<li><code>FirstOrDefault</code> &#x2F; <code>SingleOrDefault</code>: 获取满足条件的第一个&#x2F;唯一一个元素，或默认值。</li>
<li><code>Any</code> &#x2F; <code>All</code>: 判断序列中是否有&#x2F;所有元素满足条件。</li>
<li><code>Count</code> &#x2F; <code>Sum</code> &#x2F; <code>Min</code> &#x2F; <code>Max</code> &#x2F; <code>Average</code>: 聚合操作。</li>
</ul>
<h2 id="11-异常处理-Exception-Handling"><a href="#11-异常处理-Exception-Handling" class="headerlink" title="11. 异常处理 (Exception Handling)"></a>11. 异常处理 (Exception Handling)</h2><p>用于处理程序运行时发生的错误。</p>
<h3 id="try-catch-finally"><a href="#try-catch-finally" class="headerlink" title="try-catch-finally"></a>try-catch-finally</h3><ul>
<li><code>try</code>: 包含可能引发异常的代码块。</li>
<li><code>catch</code>: 捕获并处理特定类型的异常。可以有多个 <code>catch</code> 块。</li>
<li><code>finally</code>: 包含无论是否发生异常都必须执行的代码块 (例如资源释放)。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> result = <span class="number">10</span> / <span class="built_in">int</span>.Parse(<span class="string">&quot;0&quot;</span>); <span class="comment">// 引发 DivideByZeroException</span></span><br><span class="line">    <span class="comment">// int result = 10 / int.Parse(&quot;abc&quot;); // 引发 FormatException</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (DivideByZeroException ex)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;Error: Cannot divide by zero. <span class="subst">&#123;ex.Message&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (FormatException ex)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;Error: Invalid number format. <span class="subst">&#123;ex.Message&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception ex) <span class="comment">// 捕获所有其他类型的异常 (应放在特定异常之后)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;An unexpected error occurred: <span class="subst">&#123;ex.Message&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;Cleanup code executed.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="抛出异常-throw"><a href="#抛出异常-throw" class="headerlink" title="抛出异常 (throw)"></a>抛出异常 (throw)</h3><p>使用 <code>throw</code> 关键字可以显式抛出一个异常。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ProcessPayment</span>(<span class="params"><span class="built_in">decimal</span> amount</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (amount &lt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="keyword">nameof</span>(amount), <span class="string">&quot;Amount must be positive.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ... process payment</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><p>可以创建继承自 <code>System.Exception</code> (或其子类) 的自定义异常类。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InsufficientFundsException</span> : <span class="title">Exception</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InsufficientFundsException</span>()</span> &#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InsufficientFundsException</span>(<span class="params"><span class="built_in">string</span> message</span>) : <span class="title">base</span>(<span class="params">message</span>)</span> &#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InsufficientFundsException</span>(<span class="params"><span class="built_in">string</span> message, Exception inner</span>) : <span class="title">base</span>(<span class="params">message, inner</span>)</span> &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用自定义异常</span></span><br><span class="line"><span class="comment">// throw new InsufficientFundsException(&quot;Not enough funds for this transaction.&quot;);</span></span><br></pre></td></tr></table></figure>

<h2 id="12-委托-Delegates-与事件-Events"><a href="#12-委托-Delegates-与事件-Events" class="headerlink" title="12. 委托 (Delegates) 与事件 (Events)"></a>12. 委托 (Delegates) 与事件 (Events)</h2><h3 id="委托的声明与使用"><a href="#委托的声明与使用" class="headerlink" title="委托的声明与使用"></a>委托的声明与使用</h3><p>委托是一种引用类型，可以持有对方法的引用。它定义了方法的签名 (返回类型和参数类型)。类似于 C&#x2F;C++ 中的函数指针。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 声明委托类型</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">MyDelegate</span>(<span class="params"><span class="built_in">string</span> message</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">CalculateDelegate</span>(<span class="params"><span class="built_in">int</span> x, <span class="built_in">int</span> y</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DelegateExample</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisplayMessage</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Message: <span class="subst">&#123;msg&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span> =&gt; a + b;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Subtract</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span> =&gt; a - b;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Run</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        DelegateExample ex = <span class="keyword">new</span> DelegateExample();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 创建委托实例，并指向方法</span></span><br><span class="line">        MyDelegate messageDelegate = <span class="keyword">new</span> MyDelegate(ex.DisplayMessage);</span><br><span class="line">        <span class="comment">// 或者使用简化语法</span></span><br><span class="line">        <span class="comment">// MyDelegate messageDelegate = ex.DisplayMessage;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 调用委托</span></span><br><span class="line">        messageDelegate(<span class="string">&quot;Hello from Delegate!&quot;</span>); <span class="comment">// 输出: Message: Hello from Delegate!</span></span><br><span class="line"></span><br><span class="line">        CalculateDelegate calcAdd = Add;</span><br><span class="line">        CalculateDelegate calcSubtract = Subtract;</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Add: <span class="subst">&#123;calcAdd(<span class="number">10</span>, <span class="number">5</span>)&#125;</span>&quot;</span>);         <span class="comment">// 输出: Add: 15</span></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Subtract: <span class="subst">&#123;calcSubtract(<span class="number">10</span>, <span class="number">5</span>)&#125;</span>&quot;</span>); <span class="comment">// 输出: Subtract: 5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多播委托"><a href="#多播委托" class="headerlink" title="多播委托"></a>多播委托</h3><p>一个委托实例可以引用多个方法。调用委托时，会依次调用所有引用的方法。使用 <code>+</code> 或 <code>+=</code> 组合委托，使用 <code>-</code> 或 <code>-=</code> 移除。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyDelegate multiDelegate = ex.DisplayMessage;</span><br><span class="line">multiDelegate += AnotherMethodToCall; <span class="comment">// 添加另一个方法</span></span><br><span class="line">multiDelegate(<span class="string">&quot;Hello Multicast!&quot;</span>); <span class="comment">// 两个方法都会被调用</span></span><br></pre></td></tr></table></figure>

<h3 id="匿名方法与-Lambda-表达式"><a href="#匿名方法与-Lambda-表达式" class="headerlink" title="匿名方法与 Lambda 表达式"></a>匿名方法与 Lambda 表达式</h3><p>可以不显式声明方法，而直接将代码块赋给委托。</p>
<ul>
<li><p><strong>匿名方法 (C# 2.0+)</strong>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CalculateDelegate calcMultiply = <span class="built_in">delegate</span> (<span class="built_in">int</span> x, <span class="built_in">int</span> y)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;;</span><br><span class="line">Console.WriteLine(<span class="string">$&quot;Multiply: <span class="subst">&#123;calcMultiply(<span class="number">10</span>, <span class="number">5</span>)&#125;</span>&quot;</span>); <span class="comment">// 输出: Multiply: 50</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>Lambda 表达式 (C# 3.0+)</strong>: 更简洁的语法。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CalculateDelegate calcDivide = (x, y) =&gt; x / y;</span><br><span class="line">Console.WriteLine(<span class="string">$&quot;Divide: <span class="subst">&#123;calcDivide(<span class="number">10</span>, <span class="number">5</span>)&#125;</span>&quot;</span>); <span class="comment">// 输出: Divide: 2</span></span><br><span class="line"></span><br><span class="line">MyDelegate lambdaMsgDelegate = msg =&gt; Console.WriteLine(<span class="string">$&quot;Lambda: <span class="subst">&#123;msg&#125;</span>&quot;</span>);</span><br><span class="line">lambdaMsgDelegate(<span class="string">&quot;Hi!&quot;</span>); <span class="comment">// 输出: Lambda: Hi!</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>Lambda 表达式广泛用于 LINQ 和异步编程。</p>
<h3 id="事件的声明与使用"><a href="#事件的声明与使用" class="headerlink" title="事件的声明与使用"></a>事件的声明与使用</h3><p>事件是一种特殊的委托，允许类或对象向其他类或对象通知发生了某些事情。事件提供了一种发布&#x2F;订阅机制。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Button</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1. 定义委托 (通常使用 EventHandler 或 EventHandler&lt;TEventArgs&gt;)</span></span><br><span class="line">    <span class="comment">// public delegate void ClickEventHandler(object sender, EventArgs e);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 声明事件 (使用 event 关键字)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> EventHandler Click; <span class="comment">// EventHandler 是预定义的委托: void EventHandler(object sender, EventArgs e)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 模拟按钮点击</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SimulateClick</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        OnClick(EventArgs.Empty); <span class="comment">// 触发事件</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 负责触发事件的方法 (通常是 protected virtual)</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnClick</span>(<span class="params">EventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Click?.Invoke(<span class="keyword">this</span>, e); <span class="comment">// 如果有订阅者，则调用委托</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Form</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Form</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Button myButton = <span class="keyword">new</span> Button();</span><br><span class="line">        <span class="comment">// 4. 订阅事件</span></span><br><span class="line">        myButton.Click += MyButton_Click; <span class="comment">// MyButton_Click 是事件处理程序</span></span><br><span class="line">        myButton.Click += (sender, e) =&gt; Console.WriteLine(<span class="string">&quot;Anonymous handler for button click!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        myButton.SimulateClick();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. 事件处理程序 (方法签名必须与委托匹配)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">MyButton_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Button was clicked!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="13-泛型-Generics"><a href="#13-泛型-Generics" class="headerlink" title="13. 泛型 (Generics)"></a>13. 泛型 (Generics)</h2><p>泛型允许编写可重用的、类型安全的代码，而无需为每种数据类型重复编写。通过类型参数 (<code>&lt;T&gt;</code>) 实现。</p>
<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyGenericList</span>&lt;<span class="title">T</span>&gt; <span class="comment">// T 是类型参数</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;T&gt; _items = <span class="keyword">new</span> List&lt;T&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T item</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _items.Add(item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Get</span>(<span class="params"><span class="built_in">int</span> index</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> _items[index];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyGenericList&lt;<span class="built_in">int</span>&gt; intList = <span class="keyword">new</span> MyGenericList&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">intList.Add(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// intList.Add(&quot;hello&quot;); // 编译错误，类型安全</span></span><br><span class="line"></span><br><span class="line">MyGenericList&lt;<span class="built_in">string</span>&gt; stringList = <span class="keyword">new</span> MyGenericList&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">stringList.Add(<span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Utility</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="keyword">ref</span> T a, <span class="keyword">ref</span> T b</span>) <span class="comment">// 泛型方法</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        T temp = a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> x = <span class="number">5</span>, y = <span class="number">10</span>;</span><br><span class="line">Utility.Swap&lt;<span class="built_in">int</span>&gt;(<span class="keyword">ref</span> x, <span class="keyword">ref</span> y); <span class="comment">// 显式指定类型参数</span></span><br><span class="line"><span class="comment">// 或者编译器类型推断</span></span><br><span class="line"><span class="comment">// Utility.Swap(ref x, ref y);</span></span><br><span class="line">Console.WriteLine(<span class="string">$&quot;x: <span class="subst">&#123;x&#125;</span>, y: <span class="subst">&#123;y&#125;</span>&quot;</span>); <span class="comment">// x: 10, y: 5</span></span><br></pre></td></tr></table></figure>

<h3 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h3><p>可以对类型参数施加约束，限制可以用于类型参数的类型。</p>
<ul>
<li><code>where T : struct</code> (值类型)</li>
<li><code>where T : class</code> (引用类型)</li>
<li><code>where T : new()</code> (具有公共无参构造函数)</li>
<li><code>where T : &lt;base class name&gt;</code> (继承自指定基类)</li>
<li><code>where T : &lt;interface name&gt;</code> (实现指定接口)</li>
<li><code>where T : U</code> (T 继承自或实现 U)</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DataProcessor</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">IComparable</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Max</span>(<span class="params">T a, T b</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a.CompareTo(b) &gt; <span class="number">0</span> ? a : b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="14-异步编程-Asynchronous-Programming"><a href="#14-异步编程-Asynchronous-Programming" class="headerlink" title="14. 异步编程 (Asynchronous Programming)"></a>14. 异步编程 (Asynchronous Programming)</h2><p>用于执行耗时操作 (如 I&#x2F;O、网络请求) 而不阻塞主线程，从而保持应用程序的响应性。</p>
<h3 id="async-和-await-关键字"><a href="#async-和-await-关键字" class="headerlink" title="async 和 await 关键字"></a>async 和 await 关键字</h3><ul>
<li><code>async</code>: 修饰方法，表示该方法是异步方法。异步方法可以包含 <code>await</code> 表达式。</li>
<li><code>await</code>: 等待一个 <code>Task</code> (或 <code>Task&lt;TResult&gt;</code>) 完成，而不会阻塞调用线程。在等待期间，控制权返回给调用者。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Net.Http;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Downloader</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;<span class="built_in">string</span>&gt; <span class="title">DownloadStringAsync</span>(<span class="params"><span class="built_in">string</span> url</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (HttpClient client = <span class="keyword">new</span> HttpClient())</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Starting download from <span class="subst">&#123;url&#125;</span> on thread <span class="subst">&#123;System.Threading.Thread.CurrentThread.ManagedThreadId&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="built_in">string</span> content = <span class="keyword">await</span> client.GetStringAsync(url); <span class="comment">// 非阻塞等待</span></span><br><span class="line">            <span class="comment">// 当 GetStringAsync 完成后，代码从这里继续执行 (可能在不同线程)</span></span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Finished download from <span class="subst">&#123;url&#125;</span> on thread <span class="subst">&#123;System.Threading.Thread.CurrentThread.ManagedThreadId&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> content.Substring(<span class="number">0</span>, Math.Min(content.Length, <span class="number">100</span>)); <span class="comment">// 返回前100个字符</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">ProcessDownloads</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> result1 = <span class="keyword">await</span> DownloadStringAsync(<span class="string">&quot;[https://www.microsoft.com](https://www.microsoft.com)&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Microsoft content (first 100 chars): &quot;</span> + result1);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> result2 = <span class="keyword">await</span> DownloadStringAsync(<span class="string">&quot;[https://www.google.com](https://www.google.com)&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Google content (first 100 chars): &quot;</span> + result2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>异步方法的返回类型通常是 <code>Task</code> (如果方法不返回结果) 或 <code>Task&lt;TResult&gt;</code> (如果方法返回类型为 <code>TResult</code> 的结果)。对于事件处理程序等不能返回 <code>Task</code> 的情况，可以使用 <code>async void</code>，但应尽量避免。</p>
<h3 id="Task-和-Task"><a href="#Task-和-Task" class="headerlink" title="Task 和 Task&lt;TResult&gt;"></a>Task 和 Task&lt;TResult&gt;</h3><p><code>Task</code> 表示一个异步操作。<code>Task&lt;TResult&gt;</code> 表示一个返回 <code>TResult</code> 类型结果的异步操作。<br><code>Task.Run()</code> 可用于在线程池线程上异步执行 CPU 密集型工作。<br><code>Task.WhenAll()</code> 等待多个 <code>Task</code> 完成。<br><code>Task.WhenAny()</code> 等待多个 <code>Task</code> 中的任何一个完成。</p>
<h2 id="15-命名空间-Namespaces"><a href="#15-命名空间-Namespaces" class="headerlink" title="15. 命名空间 (Namespaces)"></a>15. 命名空间 (Namespaces)</h2><p>用于组织和限定类型名称，避免名称冲突。使用 <code>namespace</code> 关键字声明。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">MyCompany.MyApp.Utilities</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StringHelper</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用:</span></span><br><span class="line"><span class="comment">// using MyCompany.MyApp.Utilities;</span></span><br><span class="line"><span class="comment">// StringHelper.SomeMethod();</span></span><br><span class="line"><span class="comment">// 或者完全限定名称:</span></span><br><span class="line"><span class="comment">// MyCompany.MyApp.Utilities.StringHelper.SomeMethod();</span></span><br></pre></td></tr></table></figure>

<h2 id="16-预处理器指令"><a href="#16-预处理器指令" class="headerlink" title="16. 预处理器指令"></a>16. 预处理器指令</h2><p>在编译之前由编译器处理的指令，以 <code>#</code> 开头。</p>
<ul>
<li><code>#define</code> &#x2F; <code>#undef</code>: 定义&#x2F;取消定义条件编译符号。</li>
<li><code>#if</code> &#x2F; <code>#elif</code> &#x2F; <code>#else</code> &#x2F; <code>#endif</code>: 条件编译。</li>
<li><code>#region</code> &#x2F; <code>#endregion</code>: 定义可折叠的代码区域 (在 IDE 中)。</li>
<li><code>#warning</code> &#x2F; <code>#error</code>: 在编译时产生警告&#x2F;错误。</li>
<li><code>#pragma warning</code>: 禁用或恢复特定警告。</li>
</ul>
<!-- end list -->

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> DEBUG_MODE</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">if</span> DEBUG_MODE</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Running in Debug Mode.&quot;</span>);</span><br><span class="line">        <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Running in Release Mode.&quot;</span>);</span><br><span class="line">        <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> My Custom Region</span></span><br><span class="line">        <span class="comment">// Some code here</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="17-NET-核心概念"><a href="#17-NET-核心概念" class="headerlink" title="17. .NET 核心概念"></a>17. .NET 核心概念</h2><h3 id="CLR-Common-Language-Runtime"><a href="#CLR-Common-Language-Runtime" class="headerlink" title="CLR (Common Language Runtime)"></a>CLR (Common Language Runtime)</h3><p>.NET 的运行时环境。负责管理代码执行，包括：</p>
<ul>
<li>内存管理 (垃圾回收)</li>
<li>即时编译 (JIT - Just-In-Time compilation): 将 CIL (通用中间语言) 编译为本机代码。</li>
<li>异常处理</li>
<li>安全性</li>
<li>线程管理</li>
</ul>
<h3 id="CTS-Common-Type-System"><a href="#CTS-Common-Type-System" class="headerlink" title="CTS (Common Type System)"></a>CTS (Common Type System)</h3><p>定义了在 CLR 中如何声明、使用和管理类型。确保用不同 .NET 语言编写的组件可以互操作。</p>
<h3 id="CLS-Common-Language-Specification"><a href="#CLS-Common-Language-Specification" class="headerlink" title="CLS (Common Language Specification)"></a>CLS (Common Language Specification)</h3><p>CTS 的一个子集，定义了一组规则，遵循这些规则编写的组件可以被任何 .NET 语言使用。</p>
<h3 id="GC-Garbage-Collection"><a href="#GC-Garbage-Collection" class="headerlink" title="GC (Garbage Collection)"></a>GC (Garbage Collection)</h3><p>CLR 的一部分，自动管理内存。垃圾回收器会定期查找不再被引用的对象并释放它们占用的内存。</p>
<h2 id="18-其他常用特性"><a href="#18-其他常用特性" class="headerlink" title="18. 其他常用特性"></a>18. 其他常用特性</h2><h3 id="字符串插值-String-Interpolation-C-6-0"><a href="#字符串插值-String-Interpolation-C-6-0" class="headerlink" title="字符串插值 (String Interpolation) (C# 6.0+)"></a>字符串插值 (String Interpolation) (C# 6.0+)</h3><p>一种更方便地创建格式化字符串的方法，使用 <code>$</code> 前缀。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> name = <span class="string">&quot;Alice&quot;</span>;</span><br><span class="line"><span class="built_in">int</span> age = <span class="number">30</span>;</span><br><span class="line"><span class="built_in">string</span> message = <span class="string">$&quot;My name is <span class="subst">&#123;name&#125;</span> and I am <span class="subst">&#123;age&#125;</span> years old.&quot;</span>;</span><br><span class="line"><span class="comment">// message: &quot;My name is Alice and I am 30 years old.&quot;</span></span><br><span class="line"><span class="comment">// 可以包含表达式和格式化:</span></span><br><span class="line"><span class="comment">// string output = $&quot;Price: &#123;price:C2&#125;, Date: &#123;DateTime.Now:yyyy-MM-dd&#125;&quot;;</span></span><br></pre></td></tr></table></figure>

<h3 id="Null-条件运算符-Null-conditional-operators-和-C-6-0"><a href="#Null-条件运算符-Null-conditional-operators-和-C-6-0" class="headerlink" title="Null 条件运算符 (Null-conditional operators) ?. 和 ?[] (C# 6.0+)"></a>Null 条件运算符 (Null-conditional operators) <code>?.</code> 和 <code>?[]</code> (C# 6.0+)</h3><p>用于在访问成员或索引器之前安全地检查对象是否为 <code>null</code>。如果对象为 <code>null</code>，表达式的结果为 <code>null</code>，而不是抛出 <code>NullReferenceException</code>。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> customerName = customer?.Profile?.Name; <span class="comment">// 如果 customer, Profile 或 Name 为 null，则 customerName 为 null</span></span><br><span class="line"><span class="built_in">int</span>? firstElement = numbers?[<span class="number">0</span>]; <span class="comment">// 如果 numbers 为 null，则 firstElement 为 null</span></span><br><span class="line"><span class="comment">// 调用方法</span></span><br><span class="line">customer?.Orders?.ProcesOrder(); <span class="comment">// 如果 customer或Orders为null，则不调用方法。</span></span><br></pre></td></tr></table></figure>

<h3 id="Null-合并运算符-Null-coalescing-operator"><a href="#Null-合并运算符-Null-coalescing-operator" class="headerlink" title="Null 合并运算符 (Null-coalescing operator) ??"></a>Null 合并运算符 (Null-coalescing operator) <code>??</code></h3><p>如果左操作数不为 <code>null</code>，则返回左操作数；否则，返回右操作数。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> displayName = userName ?? <span class="string">&quot;Guest&quot;</span>; <span class="comment">// 如果 userName 为 null，则 displayName 为 &quot;Guest&quot;</span></span><br></pre></td></tr></table></figure>

<p>C# 8.0 引入了 null 合并赋值运算符 <code>??=</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myVariable ??= defaultValue; <span class="comment">// 等价于: if (myVariable == null) myVariable = defaultValue;</span></span><br></pre></td></tr></table></figure>

<h3 id="元组-Tuples-C-7-0"><a href="#元组-Tuples-C-7-0" class="headerlink" title="元组 (Tuples) (C# 7.0+)"></a>元组 (Tuples) (C# 7.0+)</h3><p>提供了一种轻量级的方式来组合多个值。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建元组</span></span><br><span class="line">(<span class="built_in">string</span> Name, <span class="built_in">int</span> Age) person = (<span class="string">&quot;Bob&quot;</span>, <span class="number">42</span>);</span><br><span class="line">Console.WriteLine(person.Name); <span class="comment">// Bob</span></span><br><span class="line">Console.WriteLine(person.Age);  <span class="comment">// 42</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point = (X: <span class="number">10</span>, Y: <span class="number">20</span>); <span class="comment">// 隐式类型和命名元素</span></span><br><span class="line">Console.WriteLine(point.X);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元组作为方法返回值</span></span><br><span class="line"><span class="keyword">static</span> (<span class="built_in">int</span> sum, <span class="built_in">int</span> count) CalculateSumAndCount(List&lt;<span class="built_in">int</span>&gt; numbers)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (numbers.Sum(), numbers.Count);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = CalculateSumAndCount(<span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;);</span><br><span class="line">Console.WriteLine(<span class="string">$&quot;Sum: <span class="subst">&#123;result.sum&#125;</span>, Count: <span class="subst">&#123;result.count&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解构元组</span></span><br><span class="line">(<span class="built_in">string</span> name, <span class="built_in">int</span> age) = person;</span><br><span class="line"><span class="comment">// var (name, age) = person;</span></span><br></pre></td></tr></table></figure>

<h3 id="模式匹配-Pattern-Matching-C-7-0-持续增强"><a href="#模式匹配-Pattern-Matching-C-7-0-持续增强" class="headerlink" title="模式匹配 (Pattern Matching) (C# 7.0+ 持续增强)"></a>模式匹配 (Pattern Matching) (C# 7.0+ 持续增强)</h3><p>允许基于对象的形状 (类型、属性值等) 来检查和执行代码。</p>
<ul>
<li><strong>is 表达式与类型模式</strong>:<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> obj = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (obj <span class="keyword">is</span> <span class="built_in">string</span> s) <span class="comment">// 类型模式，如果 obj 是 string，则转换为 s</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;Length: <span class="subst">&#123;s.Length&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>switch 语句中的模式匹配</strong>:<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ProcessShape</span>(<span class="params">Shape shape</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span> (shape)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> Circle c:</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Circle with radius <span class="subst">&#123;c.Radius&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> Square s <span class="keyword">when</span> s.Side &gt; <span class="number">10</span>: <span class="comment">// 带 when 子句的 case</span></span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Large square with side <span class="subst">&#123;s.Side&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> Square s:</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Square with side <span class="subst">&#123;s.Side&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="literal">null</span>:</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Shape is null&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="literal">default</span>:</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Unknown shape&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
后续版本增加了更多模式，如属性模式、元组模式、位置模式、关系模式、逻辑模式等。</li>
</ul>
<h3 id="记录-Records-C-9"><a href="#记录-Records-C-9" class="headerlink" title="记录 (Records) (C# 9+)"></a>记录 (Records) (C# 9+)</h3><p>一种特殊的类或结构体，主要用于封装数据。编译器会自动生成构造函数、属性、<code>Equals</code>、<code>GetHashCode</code>、<code>ToString</code> 以及解构方法。记录默认是不可变的 (immutable)。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 位置记录 (Positional Record)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title">Person</span>(<span class="params"><span class="built_in">string</span> FirstName, <span class="built_in">string</span> LastName, <span class="built_in">int</span> Age</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">Console.WriteLine(person1); <span class="comment">// Person &#123; FirstName = John, LastName = Doe, Age = 30 &#125;</span></span><br><span class="line">Console.WriteLine(person1 == person2); <span class="comment">// True (值相等性比较)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// with 表达式 (创建副本并修改部分属性)</span></span><br><span class="line"><span class="keyword">var</span> olderPerson1 = person1 <span class="keyword">with</span> &#123; Age = <span class="number">31</span> &#125;;</span><br><span class="line">Console.WriteLine(olderPerson1); <span class="comment">// Person &#123; FirstName = John, LastName = Doe, Age = 31 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以声明为 record struct (值类型记录)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">record</span> <span class="keyword">struct</span> <span class="title">Point</span>(<span class="params"><span class="built_in">int</span> X, <span class="built_in">int</span> Y</span>)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="顶级语句-Top-level-statements-C-9"><a href="#顶级语句-Top-level-statements-C-9" class="headerlink" title="顶级语句 (Top-level statements) (C# 9+)"></a>顶级语句 (Top-level statements) (C# 9+)</h3><p>允许在命名空间或类之外编写 <code>Main</code> 方法的内容，简化简单程序和脚本的编写。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// (在一个 .cs 文件中)</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;Hello from top-level statements!&quot;</span>);</span><br><span class="line"><span class="built_in">string</span> name = Console.ReadLine();</span><br><span class="line">Console.WriteLine(<span class="string">$&quot;Hi, <span class="subst">&#123;name&#125;</span>!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译器会自动生成 Program 类和 Main 方法</span></span><br></pre></td></tr></table></figure>

<p>一个项目中只能有一个文件使用顶级语句。</p>
<hr>
<p>这份文档涵盖了 C# 的大部分常用知识点和核心概念。C# 是一门功能丰富且不断发展的语言，建议结合实际编码和查阅官方文档 (Microsoft Docs) 来加深理解和掌握。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Jackey Zhou</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2025/05/12/csharp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/05/12/csharp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/')">csharp基础知识</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/05/12/csharp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=csharp基础知识&amp;url=http://example.com/2025/05/12/csharp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Welcome To LifeTech's Blog</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/csharp%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>csharp相关学习<span class="tagsPageCount">5</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/05/08/Rust%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Rust综合案例</div></div></a></div><div class="next-post pull-right"><a href="/2025/05/12/blazor%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">blazor基础知识</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/05/12/ASP-NET-WEB-API/" title="ASP.NET WEB API"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-12</div><div class="title">ASP.NET WEB API</div></div></a></div><div><a href="/2025/05/12/blazor-maui%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="blazor maui基础知识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-12</div><div class="title">blazor maui基础知识</div></div></a></div><div><a href="/2025/05/12/blazor-winforms%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="blazor winforms基础知识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-12</div><div class="title">blazor winforms基础知识</div></div></a></div><div><a href="/2025/05/12/blazor%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="blazor基础知识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-05-12</div><div class="title">blazor基础知识</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description">记录技术成长的个人博客</div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C-%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E5%92%8C%E6%A6%82%E5%BF%B5%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">C# 常用知识和概念详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.2.</span> <span class="toc-text">1. 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">2. 基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hello-World"><span class="toc-number">1.3.1.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.3.2.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E6%95%8F%E6%84%9F"><span class="toc-number">1.3.3.</span> <span class="toc-text">大小写敏感</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E5%8F%A5%E5%92%8C%E5%88%86%E5%8F%B7"><span class="toc-number">1.3.4.</span> <span class="toc-text">语句和分号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">1.3.5.</span> <span class="toc-text">代码块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.</span> <span class="toc-text">3. 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B-Value-Types"><span class="toc-number">1.4.1.</span> <span class="toc-text">值类型 (Value Types)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B-Reference-Types"><span class="toc-number">1.4.2.</span> <span class="toc-text">引用类型 (Reference Types)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nullable-%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.3.</span> <span class="toc-text">Nullable 值类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.4.4.</span> <span class="toc-text">类型转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E9%87%8F"><span class="toc-number">1.5.</span> <span class="toc-text">4. 变量与常量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.5.1.</span> <span class="toc-text">变量声明与初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">常量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.5.3.</span> <span class="toc-text">var 关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.</span> <span class="toc-text">5. 运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.2.</span> <span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.3.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.4.</span> <span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.5.</span> <span class="toc-text">赋值运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.6.</span> <span class="toc-text">其他运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%8E%A7%E5%88%B6%E6%B5%81%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.7.</span> <span class="toc-text">6. 控制流语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5-if-else-if-else-switch"><span class="toc-number">1.7.1.</span> <span class="toc-text">条件语句 (if, else if, else, switch)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5-for-foreach-while-do-while"><span class="toc-number">1.7.2.</span> <span class="toc-text">循环语句 (for, foreach, while, do-while)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%B3%E8%BD%AC%E8%AF%AD%E5%8F%A5-break-continue-return-goto"><span class="toc-number">1.7.3.</span> <span class="toc-text">跳转语句 (break, continue, return, goto)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E6%96%B9%E6%B3%95-Methods"><span class="toc-number">1.8.</span> <span class="toc-text">7. 方法 (Methods)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%A3%B0%E6%98%8E"><span class="toc-number">1.8.1.</span> <span class="toc-text">方法声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8"><span class="toc-number">1.8.2.</span> <span class="toc-text">方法调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">1.8.3.</span> <span class="toc-text">参数传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD-Method-Overloading"><span class="toc-number">1.8.4.</span> <span class="toc-text">方法重载 (Method Overloading)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%96%B9%E6%B3%95"><span class="toc-number">1.8.5.</span> <span class="toc-text">递归方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%87%BD%E6%95%B0-Local-Functions-C-7-0"><span class="toc-number">1.8.6.</span> <span class="toc-text">本地函数 (Local Functions) (C# 7.0+)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B-OOP"><span class="toc-number">1.9.</span> <span class="toc-text">8. 面向对象编程 (OOP)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB-Classes-%E4%B8%8E%E5%AF%B9%E8%B1%A1-Objects"><span class="toc-number">1.9.1.</span> <span class="toc-text">类 (Classes) 与对象 (Objects)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-Constructors"><span class="toc-number">1.9.2.</span> <span class="toc-text">构造函数 (Constructors)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0-Destructors"><span class="toc-number">1.9.3.</span> <span class="toc-text">析构函数 (Destructors)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-Encapsulation-%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.9.4.</span> <span class="toc-text">封装 (Encapsulation) - 访问修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-Properties"><span class="toc-number">1.9.5.</span> <span class="toc-text">属性 (Properties)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-Inheritance"><span class="toc-number">1.9.6.</span> <span class="toc-text">继承 (Inheritance)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81-Polymorphism-virtual-override-new"><span class="toc-number">1.9.7.</span> <span class="toc-text">多态 (Polymorphism) - virtual, override, new</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB-Abstract-Classes-%E4%B8%8E%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">1.9.8.</span> <span class="toc-text">抽象类 (Abstract Classes) 与抽象方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3-Interfaces"><span class="toc-number">1.9.9.</span> <span class="toc-text">接口 (Interfaces)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98-Static-Members"><span class="toc-number">1.9.10.</span> <span class="toc-text">静态成员 (Static Members)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93-Structs"><span class="toc-number">1.9.11.</span> <span class="toc-text">结构体 (Structs)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE-Enums"><span class="toc-number">1.9.12.</span> <span class="toc-text">枚举 (Enums)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E9%9B%86%E5%90%88-Collections"><span class="toc-number">1.10.</span> <span class="toc-text">9. 集合 (Collections)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-Arrays"><span class="toc-number">1.10.1.</span> <span class="toc-text">数组 (Arrays)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List"><span class="toc-number">1.10.2.</span> <span class="toc-text">List&lt;T&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dictionary"><span class="toc-number">1.10.3.</span> <span class="toc-text">Dictionary&lt;TKey, TValue&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashSet"><span class="toc-number">1.10.4.</span> <span class="toc-text">HashSet&lt;T&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Queue"><span class="toc-number">1.10.5.</span> <span class="toc-text">Queue&lt;T&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack"><span class="toc-number">1.10.6.</span> <span class="toc-text">Stack&lt;T&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-LINQ-Language-Integrated-Query"><span class="toc-number">1.11.</span> <span class="toc-text">10. LINQ (Language Integrated Query)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E6%B3%95"><span class="toc-number">1.11.1.</span> <span class="toc-text">查询语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E8%AF%AD%E6%B3%95"><span class="toc-number">1.11.2.</span> <span class="toc-text">方法语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%AC%A6-Where-Select-OrderBy-GroupBy-Join-%E7%AD%89"><span class="toc-number">1.11.3.</span> <span class="toc-text">常用操作符 (Where, Select, OrderBy, GroupBy, Join 等)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-Exception-Handling"><span class="toc-number">1.12.</span> <span class="toc-text">11. 异常处理 (Exception Handling)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#try-catch-finally"><span class="toc-number">1.12.1.</span> <span class="toc-text">try-catch-finally</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8-throw"><span class="toc-number">1.12.2.</span> <span class="toc-text">抛出异常 (throw)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">1.12.3.</span> <span class="toc-text">自定义异常</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E5%A7%94%E6%89%98-Delegates-%E4%B8%8E%E4%BA%8B%E4%BB%B6-Events"><span class="toc-number">1.13.</span> <span class="toc-text">12. 委托 (Delegates) 与事件 (Events)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A7%94%E6%89%98%E7%9A%84%E5%A3%B0%E6%98%8E%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="toc-number">1.13.1.</span> <span class="toc-text">委托的声明与使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%92%AD%E5%A7%94%E6%89%98"><span class="toc-number">1.13.2.</span> <span class="toc-text">多播委托</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%E4%B8%8E-Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.13.3.</span> <span class="toc-text">匿名方法与 Lambda 表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%A3%B0%E6%98%8E%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="toc-number">1.13.4.</span> <span class="toc-text">事件的声明与使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E6%B3%9B%E5%9E%8B-Generics"><span class="toc-number">1.14.</span> <span class="toc-text">13. 泛型 (Generics)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="toc-number">1.14.1.</span> <span class="toc-text">泛型类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="toc-number">1.14.2.</span> <span class="toc-text">泛型方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.14.3.</span> <span class="toc-text">泛型约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B-Asynchronous-Programming"><span class="toc-number">1.15.</span> <span class="toc-text">14. 异步编程 (Asynchronous Programming)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#async-%E5%92%8C-await-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.15.1.</span> <span class="toc-text">async 和 await 关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Task-%E5%92%8C-Task"><span class="toc-number">1.15.2.</span> <span class="toc-text">Task 和 Task&lt;TResult&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4-Namespaces"><span class="toc-number">1.16.</span> <span class="toc-text">15. 命名空间 (Namespaces)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">1.17.</span> <span class="toc-text">16. 预处理器指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-NET-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.18.</span> <span class="toc-text">17. .NET 核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CLR-Common-Language-Runtime"><span class="toc-number">1.18.1.</span> <span class="toc-text">CLR (Common Language Runtime)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CTS-Common-Type-System"><span class="toc-number">1.18.2.</span> <span class="toc-text">CTS (Common Type System)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CLS-Common-Language-Specification"><span class="toc-number">1.18.3.</span> <span class="toc-text">CLS (Common Language Specification)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GC-Garbage-Collection"><span class="toc-number">1.18.4.</span> <span class="toc-text">GC (Garbage Collection)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7"><span class="toc-number">1.19.</span> <span class="toc-text">18. 其他常用特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC-String-Interpolation-C-6-0"><span class="toc-number">1.19.1.</span> <span class="toc-text">字符串插值 (String Interpolation) (C# 6.0+)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Null-%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6-Null-conditional-operators-%E5%92%8C-C-6-0"><span class="toc-number">1.19.2.</span> <span class="toc-text">Null 条件运算符 (Null-conditional operators) ?. 和 ?[] (C# 6.0+)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Null-%E5%90%88%E5%B9%B6%E8%BF%90%E7%AE%97%E7%AC%A6-Null-coalescing-operator"><span class="toc-number">1.19.3.</span> <span class="toc-text">Null 合并运算符 (Null-coalescing operator) ??</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84-Tuples-C-7-0"><span class="toc-number">1.19.4.</span> <span class="toc-text">元组 (Tuples) (C# 7.0+)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D-Pattern-Matching-C-7-0-%E6%8C%81%E7%BB%AD%E5%A2%9E%E5%BC%BA"><span class="toc-number">1.19.5.</span> <span class="toc-text">模式匹配 (Pattern Matching) (C# 7.0+ 持续增强)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95-Records-C-9"><span class="toc-number">1.19.6.</span> <span class="toc-text">记录 (Records) (C# 9+)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B6%E7%BA%A7%E8%AF%AD%E5%8F%A5-Top-level-statements-C-9"><span class="toc-number">1.19.7.</span> <span class="toc-text">顶级语句 (Top-level statements) (C# 9+)</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/15/tauri%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/" title="tauri前后端交互">tauri前后端交互</a><time datetime="2025-05-14T16:28:49.000Z" title="发表于 2025-05-15 00:28:49">2025-05-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/vue3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="vue3基础知识">vue3基础知识</a><time datetime="2025-05-12T15:28:53.000Z" title="发表于 2025-05-12 23:28:53">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/" title="模型部署">模型部署</a><time datetime="2025-05-11T18:17:36.000Z" title="发表于 2025-05-12 02:17:36">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" title="数据科学与机器学习">数据科学与机器学习</a><time datetime="2025-05-11T18:17:28.000Z" title="发表于 2025-05-12 02:17:28">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/pytorch%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="pytorch基础知识">pytorch基础知识</a><time datetime="2025-05-11T18:17:15.000Z" title="发表于 2025-05-12 02:17:15">2025-05-12</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="Jackey Zhou" target="_blank">Jackey Zhou</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">52</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">0</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CSharp%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">CSharp学习<sup>3</sup></a><a href="/tags/IDE%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 0.88rem;">IDE常用快捷键<sup>2</sup></a><a href="/tags/Rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 0.88rem;">Rust基础知识<sup>21</sup></a><a href="/tags/csharp%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">csharp相关学习<sup>5</sup></a><a href="/tags/docker%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">docker学习<sup>1</sup></a><a href="/tags/hexo%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/" style="font-size: 0.88rem;">hexo博客常见命令<sup>1</sup></a><a href="/tags/python%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">python相关学习<sup>4</sup></a><a href="/tags/tauri%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 0.88rem;">tauri基础知识<sup>1</sup></a><a href="/tags/xmake%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">xmake学习<sup>3</sup></a><a href="/tags/%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">个人学习<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">前端学习<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 0.88rem;">数据分析<sup>1</sup></a><a href="/tags/%E6%97%A0%E7%BA%BF%E8%B0%83%E8%AF%95/" style="font-size: 0.88rem;">无线调试<sup>1</sup></a><a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">深度学习<sup>1</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" style="font-size: 0.88rem;">系统常用命令<sup>2</sup></a><a href="/tags/%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size: 0.88rem;">系统常用快捷键<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Jackey Zhou 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>